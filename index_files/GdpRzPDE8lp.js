if (self.CavalryLogger) { CavalryLogger.start_js(["rB9xx"]); }

__d("TrackingPixel",["Arbiter","ControlledReferer","DeferredCookie","FBLogger"],(function(a,b,c,d,e,f){__p&&__p();var g={_iframe:undefined,loadWithNoReferrer:function(a){__p&&__p();if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("FBLogger")("tracking_pixel").mustfix("Attempting to load a TrackingPixel (%s) while cookies are deferred. This is not allowed because tracking pixels sometimes set cookies.",a);return}if(!g._iframe){var c=document.createElement("iframe");c.frameborder=0;c.width=c.height=1;c.style.position="absolute";c.style.top="-10px";b("ControlledReferer").useFacebookReferer(c,function(){b("Arbiter").inform("TrackingPixel/iframeIsLoaded",null,"persistent")},null);document.body.appendChild(c);g._iframe=c}b("Arbiter").subscribe("TrackingPixel/iframeIsLoaded",function(){var b=g._iframe.contentWindow;b=new b.Image();b.src=a})}};e.exports=g}),null);
__d("ExternalTrackingTag",["AsyncSignal","Event","TrackingPixel"],(function(a,b,c,d,e,f){var g={listenForElementClick:function(a,c,d,e,f){b("Event").listen(a,"click",function(){g.sendRequest(c,d,e,f)})},sendRequest:function(a,c,d,e){if(!a)return;new(b("AsyncSignal"))("/ads/external_tracking_tag/",{href:a,tracking_tag_id:c,adgroup_id:d,ad_id:e}).send();b("TrackingPixel").loadWithNoReferrer(a)}};e.exports=g}),null);
__d("FBLynxWrapper",["URI","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";a={SUBDOMAIN:"l",SUBDOMAIN_M:"lm",PATH:"/",URL_PARAM:"u",ENC_PARAM:"e",isLynxLink:function(a){if(a.getAttribute("data-lynx-async-dest"))return!0;if(a.getAttribute("data-lynx-uri"))return!0;return b("isLinkshimURI")(new(b("URI"))(a.href))?!0:!1}};e.exports=a}),null);
__d("LitestandColumnManager",["Arbiter","BlueBar","Event","NavigationMessage","Run","SubscriptionsHandler","clamp","getScrollPosition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=null;function i(){if(h)return;h=new(b("SubscriptionsHandler"))();h.addSubscriptions(b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,function(){l(0),j()}),b("Event").listen(window,"resize",function(){b("BlueBar").hasFixedBlueBar()||(l(0),j())}),b("Event").listen(window,"scroll",function(){k()||j()}));b("Run").onLeave(function(){return h&&h.release()})}function j(){h&&h.release(),h=null}function k(){if(g<=0)return!1;l(b("clamp")(b("getScrollPosition")(window).y,0,g));return g>0}function l(a){g=a}a={adjustVerticalWindowPosition:function(a,b){i(),l(b),window.scrollTo(a.x,a.y+g)}};e.exports=a}),null);
__d("LitestandStream",["csx","invariant","Arbiter","CSS","EventEmitter","LitestandColumnManager","Run","getScrollPosition","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j,k,l,m=new(b("EventEmitter"))(),n={init:function(a,c,d,e){i=d,k=a,j=e,l||(l=b("Arbiter").subscribe("ufi/didUpdate",function(a,c){c.offsetY&&b("LitestandColumnManager").adjustVerticalWindowPosition(b("getScrollPosition")(window),c.offsetY)})),b("Run").onLeave(function(){l&&l.unsubscribe(),l=null,m.removeAllListeners("ready"),k=null}),m.emit("ready")},getStoriesSelector:function(){return"._5jmm"},getStreamRoot:function(){return k},getSectionID:function(){return i},getStoryID:function(){return j},isStory:function(a){return b("CSS").matchesSelector(a,"._5jmm")},getFeedStreamID:function(){return parseInt(b("nullthrows")(k).id.split("feed_stream_")[1],16)%1e8},isReady:function(){return!!k},addReadyListener:function(a){n.isReady()||h(0,undefined);return m.once("ready",a)}};e.exports=n}),null);
__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","BanzaiODS","DataAttributeUtils","DOM","ExternalTrackingTag","FBLynxWrapper","LitestandMessages","LitestandStream","Parent","SLConfig","TrackingNodes","URI","collectDataAttributes","ge","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1,i,j=!1;k.prototype.init=function(a){i=b("SLConfig").gk.sl_replace_s,b("Arbiter").subscribe("ClickRefAction/new",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/contextmenu",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/middleclick",this.onNewUserAction.bind(this)),j=a.see_more_logging_enabled,a.append_tracking_data_to_links&&(this.appendTrackingDataToLinks(),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this)),b("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",this.appendTrackingDataToLinks.bind(this),"new"))};k.prototype.getStories=function(){var a=b("LitestandStream").getStreamRoot();if(a)return b("DOM").scry(a,b("LitestandStream").getStoriesSelector());else{a=b("ge")("home_stream");if(a)return b("DOM").scry(a,".uiStreamStory")}return[]};k.prototype.appendTrackingDataToLinks=function(){__p&&__p();var a=this.getStories();for(var c=0;c<a.length;c++){var d=a[c],e=b("DataAttributeUtils").getDataFt(d);if(!e||e.indexOf("ei")===-1&&e.indexOf("mei")===-1)continue;e=b("DOM").scry(d,"a");for(var d=0;d<e.length;d++){var f=e[d];if(f.getAttribute("ajaxify")!=null)continue;if(f.getAttribute("rel")!=null)continue;var g=f.getAttribute("href");if(!g||g.charAt(0)==="#")continue;g=new(b("URI"))(f);if(g.domain==="m.facebook.com")continue;if(b("isFacebookURI")(g)===!1)continue;if(b("isLinkshimURI")(g)||b("FBLynxWrapper").isLynxLink(f))continue;if("hash"in g.getQueryData())continue;if(i&&(g.getPath()==="/ads/about"||g.getPath()==="/about/ads"))continue;f.setAttribute("href",l(f).toString());f.setAttribute("onmousedown","this.href = this.href.replace('__md__=0', '__md__=1');")}}};k.prototype.getHref=function(a){return a.getAttribute&&(a.getAttribute("ajaxify")||a.getAttribute("data-endpoint"))||a.action||a.href};k.prototype.sendLogRequest=function(a,c){__p&&__p();var d=a.ei||a.ai;!d&&a.mei&&(d=a.mf_story_key);if(a!==null&&typeof d==="string"){var e=!1;if(a.tn){var f=b("TrackingNodes").parseTrackingNodeString(a.tn);for(var h=0;h<f.length;h++){var i=f[h][0];switch(i){case b("TrackingNodes").types.LIKE_LINK:case b("TrackingNodes").types.UNLIKE_LINK:case b("TrackingNodes").types.COMMENT:case b("TrackingNodes").types.COMMENT_LINK:case b("TrackingNodes").types.ADD_COMMENT_BOX:case b("TrackingNodes").types.MULTI_ATTACHMENT_VIDEO:return;case b("TrackingNodes").types.XBUTTON:case b("TrackingNodes").types.HIDE_LINK:case b("TrackingNodes").types.REPORT_SPAM_LINK:case b("TrackingNodes").types.HIDE_ALL_LINK:case b("TrackingNodes").types.DROPDOWN_BUTTON:case b("TrackingNodes").types.UNHIDE_LINK:return;case b("TrackingNodes").types.RELATED_SHARE_ARTICLE:case b("TrackingNodes").types.RELATED_SHARE_VIDEO:return;case b("TrackingNodes").types.TRANSLATION:return;case b("TrackingNodes").types.ATTACHMENT:case b("TrackingNodes").types.USER_MESSAGE:e=!0;break}}}i=Date.now();h=500;a.duplicate_click=!!g[d]&&i-g[d]<h;g[d]=i;f=new(b("AsyncRequest"))("/ajax/ssinfeed/end/").setData(a).setAllowCrossPageTransition(!0).setMethod("POST");f.send();h=a.href;b("isLinkshimURI")(new(b("URI"))(h))&&new(b("URI"))(h).getQueryData()&&(h=new(b("URI"))(h).getQueryData().u);e&&!a.duplicate_click&&c!==null&&c.url&&h&&b("isFacebookURI")(new(b("URI"))(h))===!1&&(b("ExternalTrackingTag").sendRequest(c.url,c.tag_id,c.adgroup_id),b("BanzaiODS").bumpEntityKey("external_tracking_tags","request_sent"))}};k.prototype.onNewUserAction=function(a,c){__p&&__p();if(!c.node)return;a=this.getHref(c.node);var d=b("Parent").byTag(c.node,"input")||b("Parent").byTag(c.node,"button");!a&&d&&d.type=="submit"&&d.getAttribute&&b("DataAttributeUtils").getDataFt(d)&&(a="#");d=!1;if(c.node.getAttribute){var e=b("DataAttributeUtils").getDataFt(c.node);d=e&&e.indexOf("force_log_href")!=-1}!d&&c.event&&c.node.tagName==="A"&&c.event.defaultPrevented&&j&&(a="#");c.event&&(c.event.type==="click"||c.event.type==="contextmenu"||c.event.type==="mousedown")&&(e=b("collectDataAttributes")(c.node,["ft"]),e.ft.href=a,e.ft.mouse_type=c.event.type,e.ft.is_right_click=c.event.isRightClick()?1:0,e.ft.click_type=c.event.isRightClick()?"right_click":c.event.type==="click"?"left_click":"middle_click",d=b("collectDataAttributes")(c.node,["external-tracking-tags"]),a=b("collectDataAttributes")(c.node,["leadgen"]),a&&a.leadgen&&a.leadgen.submitted&&(e.ft.leadgen_submitted=1),this.sendLogRequest(e.ft,d["external-tracking-tags"]))};function k(){}function l(a){var c=new(b("URI"))(a.href);a=b("collectDataAttributes")(a,["ft"]).ft;var d=c.getQueryData();d.ft=a;d.__md__=0;c.setQueryData(d);return c}e.exports={init:function(a){h===!1&&(new k().init(a),h=!0)},buildURL:l}}),null);
__d("AdsSchedulingTooltipTheme",["cx"],(function(a,b,c,d,e,f,g){"use strict";a={wrapperClassName:"_3yee",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("AdsSchedulingTooltip.react",["cx","AdsSchedulingTooltipTheme","React","ReactAbstractContextualDialog","ReactLayer","XUIAmbientNUXBody.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"AdsScheduleingTooltipTheme",theme:b("AdsSchedulingTooltipTheme")}));h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(i,babelHelpers["extends"]({autoFocus:!1,focusContextOnHide:!1},this.props),b("React").createElement(b("XUIAmbientNUXBody.react"),{className:"_1m17",onCloseButtonClick:this.props.onCloseButtonClick},this.props.children))};function a(){h.apply(this,arguments)}a.propTypes={alignment:c.oneOf(["left","center","right"]),behaviors:c.object,context:c.object,contextRef:c.func,customwidth:c.number,hasActionableContext:c.bool,offsetX:c.number,offsetY:c.number,position:c.oneOf(["above","below","left","right"]),shown:c.bool,onCloseButtonClick:c.func};e.exports=a}),null);
__d("NotificationConstants",[],(function(a,b,c,d,e,f){e.exports={PayloadSourceType:{UNKNOWN:0,USER_ACTION:1,LIVE_SEND:2,ENDPOINT:3,INITIAL_LOAD:4,OTHER_APPLICATION:5,SYNC:6,CLIENT:7}}}),null);
__d("NotificationUpdates",["Arbiter","LiveTimer","NotificationConstants","createObjectFrom"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={},i={},j={},k=!1,l=[],m=0,n=new(b("Arbiter"))();function o(){__p&&__p();if(m)return;var a=g,b=h,c=i,d=j;g={};h={};i={};j={};(Object.keys(a).length||k)&&(k=!1,q("notifications-updated",a));Object.keys(b).length&&q("seen-state-updated",b);Object.keys(c).length&&q("read-state-updated",c);Object.keys(d).length&&q("hidden-state-updated",d);l.pop()}function p(){return l.length?l[l.length-1]:b("NotificationConstants").PayloadSourceType.UNKNOWN}function q(event,a){s.inform(event,{updates:a,source:p()})}var r=null,s={getserverTime:function(){return r},handleUpdate:function(a,c,d,e){c.servertime&&(r=c.servertime,b("LiveTimer").restart(c.servertime)),this._updateWithPayload(a,c)},_updateWithPayload:function(a,b){Object.keys(b).length&&this.synchronizeInforms(function(){l.push(a);var c=babelHelpers["extends"]({},b,{payloadsource:p()});this.inform("update-notifications",c);this.inform("update-seen",c);this.inform("update-read",c);this.inform("update-hidden",c)}.bind(this))},getArbiter:function(){return n},inform:function(event,a){return n.inform(event,a)},subscribe:function(event,a){return n.subscribe(event,a)},didUpdateNotifications:function(a){Object.assign(g,b("createObjectFrom")(a)),k=!0,o()},didUpdateSeenState:function(a){Object.assign(h,b("createObjectFrom")(a)),o()},didUpdateReadState:function(a){Object.assign(i,b("createObjectFrom")(a)),o()},didUpdateHiddenState:function(a){Object.assign(j,b("createObjectFrom")(a)),o()},synchronizeInforms:function(a){m++;try{a()}catch(a){throw a}finally{m--,o()}}};e.exports=s}),null);
__d("NotificationOptionActionWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLMutationBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1420844941369152"};c.getQueryID=function(){"use strict";return"318967338567215"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("NotificationUserActions",["AsyncRequest","Bootloader","BusinessUserConf","CurrentUser","NotificationConstants","NotificationOptionActionWebGraphQLMutation","NotificationTokens","NotificationUpdates","WebGraphQL","createObjectFrom"],(function(a,b,c,d,e,f){__p&&__p();var g=b("NotificationConstants").PayloadSourceType.USER_ACTION,h=!1;function i(a){b("BusinessUserConf").businessUserID!=null&&(a.biz_user_id=b("BusinessUserConf").businessUserID),new(b("AsyncRequest"))("/ajax/notifications/mark_read.php").setData(a).setAllowCrossPageTransition(!0).send()}function j(a){var b={};a.forEach(function(a,c){b["alert_ids["+c+"]"]=a});return b}a={markNotificationsAsSeen:function(a,c){var d=document.getElementById("notificationsCountValue"),e=null;d&&(e=d.textContent);b("NotificationUpdates").handleUpdate(g,{seenState:b("createObjectFrom")(a)});d=b("NotificationTokens").untokenizeIDs(a);a=j(d);a.seen=!0;e&&(a.badgeCount=e);c&&(a.source_view=c);i(a)},setNextIsFromReadButton:function(a){h=a},markNotificationsAsRead:function(a,c){b("NotificationUpdates").handleUpdate(g,{readState:b("createObjectFrom")(a,!0)});a=b("NotificationTokens").untokenizeIDs(a);a=j(a);h&&(a.from_read_button=!0,h=!1);c&&(a.source_view=c);i(a)},markNotificationsAsUnread:function(a,c){b("NotificationUpdates").handleUpdate(g,{readState:b("createObjectFrom")(a,!1)});a=b("NotificationTokens").untokenizeIDs(a);a=j(a);h&&(a.from_read_button=!0,h=!1);a.unread=!0;c&&(a.source_view=c);i(a)},markAllNotificationsAsRead:function(a){b("Bootloader").loadModules(["NotificationSeenState"],function(c){c=c.getUnreadIDs();c.length>0&&b("NotificationUpdates").handleUpdate(g,{readState:b("createObjectFrom")(c)});c={read:!0};h&&(c.from_read_button=!0,h=!1);a&&(c.source_view=a);i(c)},"NotificationUserActions")},sendNotifOption:function(a){return b("WebGraphQL").exec(new(b("NotificationOptionActionWebGraphQLMutation"))({input:{action_type:a,actor_id:b("CurrentUser").getID(),client_mutation_id:"0"}}))}};e.exports=a}),null);
__d("UFIOrderingModeSelector.react",["cx","invariant","FBLogger","InlineBlock.react","Link.react","PopoverMenu.react","React","ReactXUIMenu"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactXUIMenu").SelectableMenu,k=b("ReactXUIMenu").SelectableItem;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.onMenuItemClick=function(a,b){this.props.onOrderChanged(b.item.getValue())}.bind(this),b}a.prototype.render=function(){__p&&__p();if(this.props.orderingModes===null||this.props.orderingModes===undefined||this.props.orderingModes.length===0)return null;var a=this.props.orderingModes.filter(function(a){return a.value==this.props.selectedMode}.bind(this)).map(function(a){return a.name}).pop();a==null&&b("FBLogger")("comments").mustfix("Invalid ordering mode "+this.props.selectedMode+". Available modes: "+this.props.orderingModes.map(function(a){return a.value}).join(", ")+" on feedback target "+(this.props.contextArgs?this.props.contextArgs.ftentidentifier:"(unknown)"));a||h(0,undefined);var c=b("React").createElement(j,{className:"_4tju",onItemClick:this.onMenuItemClick},this.props.orderingModes.map(function(a){return b("React").createElement(k,{key:a.value,value:a.value,label:a.name,selected:a.value===this.props.selectedMode},b("React").createElement("div",{className:"_3scm"},b("React").createElement("div",{className:"_3scn"},a.name),b("React").createElement("div",{className:"_3sco"},a.description)))}.bind(this)));return b("React").createElement("div",{className:"_3scp"},b("React").createElement(b("InlineBlock.react"),null,b("React").createElement(b("PopoverMenu.react"),{className:"_3scs",menu:c,alignh:this.props.alignh||"right"},b("React").createElement(b("Link.react"),null,a,b("React").createElement("div",{className:"_3sct"})))))};e.exports=a}),null);
__d("CommentsOrderingModeSelectorUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAvailableOrders=function(a){this.$1.available_orders=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setEndOrder=function(a){this.$1.end_order=a;return this};a.prototype.setPostFbid=function(a){this.$1.post_fbid=a;return this};a.prototype.setPostOwnerFbid=function(a){this.$1.post_owner_fbid=a;return this};a.prototype.setStartOrder=function(a){this.$1.start_order=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={available_orders:!0,end_order:!0,post_fbid:!0,post_owner_fbid:!0,start_order:!0,vc:!0};e.exports=a}),null);
__d("UFIOrderingModeSelectorContainer.react",["CommentsOrderingModeSelectorUsageTypedLogger","Random","React","SubscriptionsHandler","UFIConfig","UFIInstanceAction","UFIOrderingModeSelector.react","UFIOrderingModeStore","UFISharedDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={selectedMode:b("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)},this.$1=null,this.onOrderChanged=function(a){var c=this.props.feedback;if(c.orderingmodes&&b("UFIConfig").logChangeOrderingModeUsageSampleRate>b("Random").random()){var d=c.orderingmodes.map(function(a){return a.value});new(b("CommentsOrderingModeSelectorUsageTypedLogger"))().setStartOrder(this.state.selectedMode).setEndOrder(a).setPostFbid(c.commentstargetfbid).setPostOwnerFbid(c.ownerid).setAvailableOrders(d).log()}b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").changeOrderingMode(this.props.contextArgs,a))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("UFIOrderingModeStore").addListener(function(){if(!this.$1)return;this.setState({selectedMode:b("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$1&&(this.$1.release(),this.$1=null)};a.prototype.shouldComponentUpdate=function(a,b){return this.state.selectedMode!==b.selectedMode};a.prototype.render=function(){return b("React").createElement(b("UFIOrderingModeSelector.react"),{alignh:this.props.alignh||"right",onOrderChanged:this.onOrderChanged,orderingModes:this.props.feedback.orderingmodes,selectedMode:this.state.selectedMode,contextArgs:this.props.contextArgs})};a.propTypes={feedback:c.shape({defaultcommentorderingmode:c.string.isRequired,orderingmodes:c.arrayOf(c.shape({name:c.string.isRequired,description:c.string.isRequired,selected:c.bool.isRequired,value:c.string.isRequired})).isRequired,commentstargetfbid:c.string.isRequired,ownerid:c.string.isRequired}).isRequired,contextArgs:c.object.isRequired,alignh:c.string};e.exports=a}),null);
__d("FBStoriesProductionTypes",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c={CAMERA_ERROR:"CAMERA_ERROR",FILE_SIZE_EXCEED:"FILE_SIZE_EXCEED",LEAVING:"LEAVING"};g=babelHelpers.inherits(a,b("immutable").Record({hasImage:undefined,hasMediaStream:undefined,isCameraMediaOpen:undefined,imageSource:undefined,mediaNode:undefined,mediaStream:undefined,privacySettingsCustomParticipants:undefined,privacySettingsMode:undefined,videoSource:undefined}));g&&g.prototype;function a(){g.apply(this,arguments)}d={CAMERA_1:"CAMERA_1",CAMERA_2:"CAMERA_2",NULL_STATE:"NULL_STATE",UPLOAD_1:"UPLOAD_1"};f={UNSET:"UNSET",PUBLIC:"PUBLIC",FRIENDS_AND_CONNECTIONS:"FRIENDS_AND_CONNECTIONS",FRIENDS:"FRIENDS",CUSTOM:"CUSTOM"};e.exports={FBStoriesCameraPopupDialogTypes:c,FBStoriesCameraState:a,FBStoriesProductionFlowStageTypes:d,UnifiedStoriesAudienceModeTypes:f}}),null);
__d("GamesGogglesSwitch",[],(function(a,b,c,d,e,f){var g=!1;a={enable:function(){g=!0},isEnabled:function(){return g}};e.exports=a}),null);
__d("GamesImpressionTracker",["cx","Arbiter","Banzai","Event","GamesGogglesSwitch","VisibilityTracking","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i="data-gamesrankedimp";c=1e3;function j(a){b("GamesGogglesSwitch").isEnabled()&&(a.className=a.className+" _1z5y")}function k(a){return function(){a&&(a(),a=null)}}h=babelHelpers.inherits(a,b("VisibilityTracking"));h&&h.prototype;a.prototype.handleEvent=function(a,event){if(event.name==="visible"){var c=a.getAttribute(i);a.removeAttribute(i);c&&(j(a),c&&b("Banzai").post("games_ranked_imp",{data:c}));b("Event").listen(a,"mouseover",k(function(){b("Banzai").post("games_mouseover",{data:c}),b("Event").listen(a,"mouseout",k(function(){b("Banzai").post("games_mouseout",{data:c})}))}))}};function a(){h.apply(this,arguments)}var l=new a({selector:"[data-gamesrankedimp]",handleAllVisibleEvents:!0,cacheTrackedElements:!0});d=b("throttle").acrossTransitions(function(){return l.fireEventCallback()},c,null);l.listeners&&l.listeners.addSubscriptions(b("Event").listen(document,"mousemove",d),b("Event").listen(document,"click",d),b("Arbiter").subscribe("games_unit_loaded",function(){return l.refreshAllTrackedElements()}))}),null);
__d("FacebookWebNotificationsSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2161210997226657",queryID:"220480208641573"})}),null);
__d("FacebookWebNotificationsSubscription",["invariant","BaseGraphQLSubscription","CurrentUser","FacebookWebNotificationsSubscriptionWebGraphQLSubscription","SubscriptionsHandler","WebPixelRatio","uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h="WEB_DESKTOP",i=[],j=null,k=babelHelpers["extends"]({},b("BaseGraphQLSubscription"),{_getTopic:function(a){return"gqls/"+this._getSubscriptionCallName()+"/actor_id_"+a.actorID+"_environment_"+h},_getQueryID:function(){return b("FacebookWebNotificationsSubscriptionWebGraphQLSubscription").getDocID()},_getQueryParameters:function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),environment:h}),is_work_user:b("CurrentUser").isWorkUser(),scale:b("WebPixelRatio").get()}},_getSubscriptionCallName:function(){return"web_notification_receive_subscribe"}});function l(a){__p&&__p();a=a.web_notification_receive_subscribe;var b=a.aggregated_notification,c=a.notification,d=a.pinned_conversation,e=a.should_play_sound,f=a.should_show_beeper;i.forEach(function(a){switch(a.event){case"NEW_BEEPER":c!=null&&f===!0&&a.callback({notification:c,should_play_sound:!!e});break;case"NEW_NOTIFICATION":b!=null&&a.callback(b);break;case"NEW_PINNED_CONVERSATION":d!=null&&a.callback(d);break}})}e.exports={subscribe:function(a){__p&&__p();i.push(a);j===null&&(j=new(b("SubscriptionsHandler"))(),j.addSubscriptions(k.subscribe({actorID:b("CurrentUser").getID()},l)));var c=!1;return{remove:function(){if(c===!0)return;j!=null||g(0,undefined);c=!0;i.splice(i.indexOf(a),1);i.length===0&&(j.release(),j=null)}}}}}),null);
__d("XPymkFunnelLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pymk/funnel_logging/",{event_ts:{type:"Int",required:!0},query_id:{type:"Int"},candidate_id:{type:"Int"},signature:{type:"Int"},loc:{type:"String",required:!0},ref:{type:"String"},action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PymkFunnelLogger",["AsyncRequest","DOMQuery","XPymkFunnelLoggingController"],(function(a,b,c,d,e,f){__p&&__p();a={setupListeners:function(a,b,c,d,e){this._setupForSingleElement(a,b,c,"add"),this._setupForSingleElement(a,b,d,"click"),this._setupForSingleElement(a,b,e,"click")},logImpression:function(a,b,c){this._logEvent(a,"impression",b,c)},logXOut:function(a,b,c){this._logEvent(a,"hide",b,c)},_logEvent:function(a,event,c,d){a=b("XPymkFunnelLoggingController").getURIBuilder().setInt("candidate_id",a).setInt("signature",c).setInt("event_ts",Math.floor(Date.now()/1e3)).setEnum("action",event).setString("loc",d).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()},_setupForSingleElement:function(a,c,d,e){Event.listen(d,"click",function(event){var d=a.getAttribute("data-signature"),f=b("DOMQuery").find(a,"input.friendBrowserID");f=parseInt(f.value,10);this._logEvent(f,e,d,c)}.bind(this))}};e.exports=a}),null);
__d("MainThreadPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAction=function(a){this.$1.action=a;return this};a.prototype.setArtilleryTraceID=function(a){this.$1.artillery_trace_id=a;return this};a.prototype.setEventDurationMs=function(a){this.$1.event_duration_ms=a;return this};a.prototype.setFrameDrops=function(a){this.$1.frame_drops=a;return this};a.prototype.setLargeFrameDrops=function(a){this.$1.large_frame_drops=a;return this};a.prototype.setMaxFrameDrops=function(a){this.$1.max_frame_drops=a;return this};a.prototype.setParallelActions=function(a){this.$1.parallel_actions=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setSampleRate=function(a){this.$1.sample_rate=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={action:!0,artillery_trace_id:!0,event_duration_ms:!0,frame_drops:!0,large_frame_drops:!0,max_frame_drops:!0,parallel_actions:!0,sample_rate:!0,vc:!0};e.exports=a}),null);
__d("AbstractErrorSignal",["invariant","BanzaiODS","ScriptPath","SessionName","SiteData"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!0;function i(){this.constructor!==i||g(0,undefined)}i.prototype.logJSError=function(a,c){__p&&__p();c=c||{};c.svn_rev=b("SiteData").client_revision;c.push_phase=b("SiteData").push_phase;c.script_path=b("ScriptPath").getScriptPath();c.extra=c.extra||{};c.extra.hrm=b("SiteData").be_mode;var d=c.extra.type||"error";h&&a==="onerror"&&d==="error"&&(c.extra.extra=c.extra.extra||[],c.extra.extra.push("first_error"),h=!1);d=(b("SessionName").getName()||"-")+"/-";this.performCounterLogging("javascript_error");this.performSignalLogging("javascript_error",{c:a,a:d,m:c})};i.prototype.performCounterLogging=function(a){b("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal.category."+a),a==="javascript_error"&&b("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal.sent")};i.prototype.performSignalLogging=function(a,b){g(0,undefined)};e.exports=i}),null);
__d("XJavaScriptLogviewSiteCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MBASIC:"m_basic",MTOUCH:"m_touch",WWW:"www"})}),null);
__d("ErrorSignal",["AbstractErrorSignal","AsyncSignal","Banzai","BanzaiODS","ErrorSignalConfig","XJavaScriptLogviewSiteCategory","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i="js_error_logging";g=babelHelpers.inherits(c,b("AbstractErrorSignal"));h=g&&g.prototype;c.prototype.performCounterLogging=function(a){h.performCounterLogging.call(this,a),a==="javascript_error"&&b("BanzaiODS").bumpEntityKey("js_error_reporting","error_signal."+b("XJavaScriptLogviewSiteCategory").WWW+".sent")};c.prototype.performSignalLogging=function(a,c){b("gkx")("AT62Qfye-sgsYoL_O9bZPRJT6jN8PE-zabHwEoClspTZbYQrtc9jOblGZfAFttbXVhFOFzFWDnaLP8Tm92W-qRAJ")?b("Banzai").post(i,c):new(b("AsyncSignal"))(b("ErrorSignalConfig").uri,{c:a,m:JSON.stringify(c)}).send()};function c(){g.apply(this,arguments)}d=new c();e.exports=d;a.ErrorSignal=d}),null);
__d("PageLikeButtonLazy",["Arbiter","Bootloader","Event","PageLikeConstants","SubscriptionsHandler","ifRequired","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();var g=new(b("SubscriptionsHandler"))(),h=[],i=!1,j=!1,k=b("PageLikeConstants").LIKED,l=b("PageLikeConstants").UNLIKED,m=b("PageLikeConstants").SPM_CALLOUT,n=b("PageLikeConstants").LAZY_CLICK,o={init:function(a,b,c,d,e,f,g,h,i,j,k,l){o._initWithArgs(a,b,c,d,e,f,g,h,i,j,k,l)},_initWithArgs:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b("ifRequired")("PageLikeButton",function(a){return a.init.apply(a,c)},function(){c[11]=babelHelpers["extends"]({},c[11],{isLazy:!0}),this._startListening(c[1]),h.push(c)}.bind(this))},_startListening:function(a){i||(i=!0,g.addSubscriptions(b("Arbiter").subscribe([k,l,m],function(event,a){b("Arbiter").inform(event+".lazy",a,"persistent"),this._bootload()}.bind(this)))),g.addSubscriptions(b("Event").listen(a,"click",function(event){b("Arbiter").inform(n,{event:event,node:a},"persistent"),b("setImmediate")(function(){return this._bootload()}.bind(this))}.bind(this)))},_bootload:function(){if(j)return;j=!0;b("Bootloader").loadModules(["PageLikeButton"],function(a){g.release(),h.forEach(function(b){return a.init.apply(a,b)})},"PageLikeButtonLazy")}};e.exports=o}),null);
__d("ArtilleryInteractionTraceName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DETAILS_PAGE_LOADING:"Details Page Loading",FBPKG_UI:"fbpkg_ui",BACKBONE_UI:"backbone_ui",ADS_INTERFACES_INTERACTION:"ADS_INTERFACES_INTERACTION",ADS_PERF_SCENARIO:"ads_perf_scenario",ADS_WAIT_TIME:"ads_wait_time",MAIN_THREAD_PERFORMANCE:"main_thread_performance",PAGES_INBOX_WWW_LOADING_ITEM:"pages_inbox_www.loading_item",SEVMANAGER_POWERSEARCH_INITIAL_PAGE_LOAD:"sevmanager_powersearch_initial_page_load",WATCH_SECTIONS_LOAD_MORE:"watch_sections_load_more",WATCH_DISCOVER_SCROLL:"watch_discover_scroll",WATCH_CAROUSEL_LEFT_SCROLL:"watch_carousel_left_scroll",WATCH_CAROUSEL_RIGHT_SCROLL:"watch_carousel_right_scroll",VIDEO_STALL:"video_stall",VIDEO_PSR:"video_psr",EVENT:"Event",DAIQUERY_INTERACTIVE_QUERY:"daiquery_interactive_query",DO_NOT_USE_JUST_FOR_TESTING:"__test_interaction"})}),null);
__d("FeedQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CACHE_FETCH:655545,LOAD:655546,NETWORK_FETCH:655544,POST_STARTUP:655535,SCROLL_PERF:655590,COMMENT_TTL_WWW:655585,CONSUMPTION_RESTORATION_WWW:655575,IMAGE_LOAD_WWW:655576,LOAD_ANY_DESTINATION_FROM_NOTIFICATIONS_WWW:655596,LOAD_STORY_PERMALINK_FROM_ANYWHERE_WWW:655597,MAIN_THREAD_PERFORMANCE:655595,NOTIFICATION_INTERACTION_WWW:655584})}),null);
__d("PerfXSharedFields",[],(function(a,b,c,d,e,f){var g={addCommonValues:function(a){navigator&&navigator.hardwareConcurrency!==undefined&&(a.num_cores=navigator.hardwareConcurrency);navigator&&navigator.deviceMemory&&(a.ram_gb=navigator.deviceMemory);navigator&&navigator.connection&&(typeof navigator.connection.downlink==="number"&&(a.downlink_megabits=navigator.connection.downlink),typeof navigator.connection.effectiveType==="string"&&(a.effective_connection_type=navigator.connection.effectiveType),typeof navigator.connection.rtt==="number"&&(a.rtt_ms=navigator.connection.rtt));return a},getCommonData:function(){var a={};g.addCommonValues(a);return a}};e.exports=g}),null);
__d("QuickPerformanceLoggerBase",["Banzai","Bootloader","Env","PerfXSharedFields","QuickLogConfig","Random","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceAbsoluteNow")();function a(a){a===void 0&&(a={}),this.$1={},this.$2={},this.$3=100,this.loomProviderId="QPL",this.$4=a}a.prototype.$6=function(a,c){if(b("QuickLogConfig").killswitch)return null;a=this.$1[a];if(!a)return null;a=a[c];return!a?null:a};a.prototype.$7=function(a){var c=null;b("QuickLogConfig").qpl_events?c=b("QuickLogConfig").qpl_events[a]:b("QuickLogConfig").qpl_events_static&&(c=b("QuickLogConfig").qpl_events_static[a]);return c};a.prototype.markerStart=function(a,c,d){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());if(b("QuickLogConfig").killswitch)return;var e=this.$7(a);if(!e)return;this.$5&&this.$5.buffer.addEvent({type:"QPL_START",action:"START",markerId:a,instanceKey:c});e=this.$2[a]||e.sampleRate||this.$3;if(!b("Env").enable_qplinspector&&!b("Random").coinflip(e))return;var f=this.$1[a];f||(this.$1[a]={});this.$1[a][c]={timestamp:d,sampleRate:e,points:{}};f=this.$4.onMarkerStart;f&&f(a,c,d)};a.prototype.markerStartFromNavStart=function(a,c){c===void 0&&(c=0);var d=b("performanceNavigationStart")();this.markerStart(a,c,d);if(b("performanceNavigationStart").isPolyfilled){d=this.$6(a,c);d&&(d.timestampIsApproximate=!0)}};a.prototype.annotateMarkerString=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotations||{};d[b]=c;a.annotations=d};a.prototype.annotateMarkerStringArray=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotationsStringArray||{};d[b]=c;a.annotationsStringArray=d};a.prototype.annotateMarkerInt=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotationsInt||{};d[b]=c;a.annotationsInt=d};a.prototype.annotateMarkerIntArray=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotationsIntArray||{};d[b]=c;a.annotationsIntArray=d};a.prototype.annotateMarkerDouble=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotationsDouble||{};d[b]=c;a.annotationsDouble=d};a.prototype.annotateMarkerDoubleArray=function(a,b,c,d){d===void 0&&(d=0);a=this.$6(a,d);if(!a)return;d=a.annotationsDoubleArray||{};d[b]=c;a.annotationsDoubleArray=d};a.prototype.markerPoint=function(a,b,c,d,e){d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());a=this.$6(a,d);if(!a)return;a.points[b]={data:c,timeSinceStart:e-a.timestamp}};a.prototype.markerEnd=function(a,b,c,d){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());var e=Date.now(),f=this.$6(a,c);if(!f)return;var h=this.$7(a);if(!h)return;var i=this.$4.onMarkerEnd;i&&i(a,c,d);this.$5&&this.$5.buffer.addEvent({type:"QPL_END",action:b,markerId:a,instanceKey:c});i=d-f.timestamp;e=e-i;var j=f.points;this.$8({event_is_intermediate_marker:"false",instance_id:c,quicklog_module:h.moduleName,quicklog_event:h.name,quicklog_action:b,sample_rate:f.sampleRate,trace_tags:"",value:f.timestampIsApproximate?null:i,annotations:f.annotations,annotations_double:f.annotationsDouble,annotations_double_array:f.annotationsDoubleArray,annotations_int:f.annotationsInt,annotations_int_array:f.annotationsIntArray,annotations_string_array:f.annotationsStringArray,points:Object.keys(j).map(function(a){return{data:j[a].data,name:a,timeSinceStart:j[a].timeSinceStart}}),metadata:{application_analytics:{time_since_qpl_module_init:d-g}}},e);delete this.$1[a][c]};a.prototype.markerDrop=function(a,b){b===void 0&&(b=0);a=this.$1[a];a&&delete a[b]};a.prototype.dropAllMarkers=function(){this.$1={}};a.prototype.setAlwaysOnSampleRate=function(a,b){this.$2[a]=b};a.prototype.setSampleRateForInstance=function(a,b,c){c===void 0&&(c=0);a=this.$1[a][c];a&&(a.sampleRate=b)};a.prototype.currentTimestamp=function(){return b("performanceAbsoluteNow")()};a.prototype.$8=function(event,a){event=this.$9(event);var c=this.$10(event,a);b("Env").enable_qplinspector&&b("Bootloader").loadModules(["QPLInspector"],function(a){a.appendLog(c)},"QuickPerformanceLoggerBase");b("Banzai").post("perf",c)};a.prototype.$9=function(event){var a=b("PerfXSharedFields").getCommonData();event.metadata=babelHelpers["extends"]({},event.metadata,{memory_stats:{total_mem:a.ram_gb?a.ram_gb*1073741824:null},network_stats:{downlink_megabits:a.downlink_megabits,network_subtype:a.effective_connection_type,rtt_ms:a.rtt_ms}});return event};a.prototype.$10=function(event,a){a=Math.floor(a/1e3);return{appversion:"0 (web)",clienttime:a,rawclienttime:a,deviceid:"0",extra:event}};a.prototype.loomTraceDidBegin=function(a){this.$5=a};a.prototype.loomTraceWillEnd=function(){this.$5=null};e.exports=a}),null);
__d("QuickPerformanceLogger",["EventProfiler","QuickLogConfig","QuickPerformanceLoggerBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h={},i={onMarkerStart:function(a,c,d){var e=b("QuickLogConfig").qpl_to_interaction[a];if(e){a=a+" : "+c;h[a]=b("EventProfiler").markManualStart([e.name],e.eventType,d)}},onMarkerEnd:function(a,b,c){a=a+" : "+b;h[a]&&h[a].markManualEnd(c)}};c=babelHelpers.inherits(a,b("QuickPerformanceLoggerBase"));g=c&&c.prototype;function a(){g.constructor.call(this,i)}e.exports=new a()}),null);
__d("MainThreadPerformanceMonitorActionEntry",["ArtilleryInteractionTraceName","FeedQuickLogModule","MainThreadPerformanceTypedLogger","QuickPerformanceLogger","TimeSliceInteraction","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){this.$4=0,this.$5=0,this.$7=0,this.$2=a,this.$10=d,this.$8=b("performanceNow")(),this.$6=new Set(c),this.$9=b("TimeSliceInteraction").create(b("ArtilleryInteractionTraceName").MAIN_THREAD_PERFORMANCE),this.$9.trace().addStringAnnotation("action",this.$2),this.$3=g.$1++,b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,this.$3),b("QuickPerformanceLogger").annotateMarkerString(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"ACTION",a,this.$3),b("QuickPerformanceLogger").setSampleRateForInstance(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,d,this.$3)}g.prototype.addLargeFrameDrops=function(a){if(a<=0)return this;this.$4+=a;this.$9.inform("large_frame_drop",{pointGroup:"large_frame_drops"}).addStringAnnotation("quantity",a.toString());return this};g.prototype.addFrameDrops=function(a){if(a<=0)return this;this.$5=Math.max(this.$5,a);this.$7+=a;return this};g.prototype.addParallelAction=function(a){this.$6.add(a);return this};g.prototype.log=function(){__p&&__p();if(this.$7>0){var a=b("performanceNow")()-this.$8;new(b("MainThreadPerformanceTypedLogger"))().setFrameDrops(this.$7).setLargeFrameDrops(this.$4).setMaxFrameDrops(this.$5).setAction(this.$2).setEventDurationMs(Math.round(a)).setParallelActions(this.$6).setArtilleryTraceID(this.$9.getTraceID()).setSampleRate(this.$10).log()}a=Array.from(this.$6);this.$4>0&&(this.$9.trace().addSetAnnotation("parallel_actions",a),this.$9.finish());b("QuickPerformanceLogger").annotateMarkerStringArray(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"PARALLEL_ACTIONS",a,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"LARGE_FRAME_DROPS",this.$4,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"FRAME_DROPS",this.$7,this.$3);b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"SUCCESS",this.$3)};g.$1=0;e.exports=g}),null);
__d("MainThreadPerformanceMonitor",["MainThreadPerformanceMonitorActionEntry","MainThreadPerformanceMonitorConfig","Random","Run","SubscriptionsHandler","Visibility","clearTimeout","gkx","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MainThreadPerformanceMonitorConfig").actionMaxDuration||12e4,h=1,i=4;a=60;var j=1e3/a,k=j*60,l=new Map(),m={},n,o,p=new(b("SubscriptionsHandler"))();function q(){p&&p.release(),u(),l.clear()}function r(){t(),p.addSubscriptions(b("Run").onLeave(q),b("Visibility").addListener(b("Visibility").VISIBLE,function(){return t()}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){return u()}))}function s(a){__p&&__p();if(o){var c=a-o;if(c<k){c=Math.max(Math.round(c/j)-1,0);var d=c>=h?c/h:0,e=c>=i?c/i:0;l.forEach(function(a){return a.addFrameDrops(d).addLargeFrameDrops(e)})}}o=a;n=b("requestAnimationFrame")(s)}function t(){n||(o=0,n=b("requestAnimationFrame")(s))}function u(){cancelAnimationFrame(n),n=null}c={isEnabled:function(){return b("gkx")("AT48oP3qlO_qasOV_h94qll3jPQ1V5QVFT5P3MtrMKmfW8diaT5FIfE8P2aCarVGEDmKzy_8uE5m_sPgjM4m5eD2RJ8KRZAEA2IEZex1eHhOPQ")},start:function(a){__p&&__p();if(l.has(a))return!0;if(!this.isEnabled())return!1;l.forEach(function(b){return b.addParallelAction(a)});var c=b("MainThreadPerformanceMonitorConfig").actionSamplingRates[a]||0;if(!b("Random").coinflip(c))return!1;l.size===0&&r();l.set(a,new(b("MainThreadPerformanceMonitorActionEntry"))(a,l.keys(),c));m[a]=b("setTimeout")(function(){return this.stop(a)}.bind(this),g);return!0},stop:function(a){__p&&__p();if(!this.isEnabled())return;var c=l.get(a);if(!c)return;c.log();l["delete"](a);b("clearTimeout")(m[a]);delete m[a];l.size===0&&q()}};e.exports=c}),null);
__d("HoverButton",["csx","cx","AsyncRequest","CSS","DOM","URI"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a,b,c,d){"use strict";this._button=a,this._flyout=b,this._flyoutAjaxify=d,this._flyoutContent=c,b.subscribe("show",this._onShow.bind(this)),b.subscribe("hide",this._onHide.bind(this))}a.prototype.showFlyoutBriefly=function(){"use strict";this.showFlyout(),this._flyout.hideFlyoutDelayed(5e3)};a.prototype.showFlyout=function(){"use strict";this._flyout.showFlyout(this._button,!0),this._flyout.inform("show",this._button)};a.prototype.hideFlyout=function(){"use strict";this._flyout.hideFlyout(!0),this._flyout.inform("hide",this._button)};a.prototype.enableButton=function(){"use strict";this._flyout.initNode(this._button)};a.prototype.disableButton=function(){"use strict";this.hideFlyout(),this._flyout.deactivateNode(this._button)};a.prototype._onShow=function(a,c){"use strict";b("CSS").addClass(c,"_52nd"),(b("CSS").hasClass(c,"uiButton")||b("CSS").matchesSelector(c,"._42fu"))&&b("CSS").addClass(c,"selected"),this._flyoutAjaxify&&(b("CSS").addClass(this._flyoutContent,"async_saving"),new(b("AsyncRequest"))().setURI(new(b("URI"))(this._flyoutAjaxify)).setHandler(function(a){b("CSS").removeClass(this._flyoutContent,"async_saving"),b("DOM").setContent(this._flyoutContent,a.payload)}.bind(this)).send(),this._flyoutAjaxify=null)};a.prototype._onHide=function(a,c){"use strict";b("CSS").removeClass(c,"_52nd"),(b("CSS").hasClass(c,"uiButton")||b("CSS").matchesSelector(c,"._42fu"))&&b("CSS").removeClass(c,"selected")};a.prototype.destroy=function(){"use strict";this.hideFlyout(),this._flyout.destroy()};a.prototype.suppressNextMouseEnter=function(){"use strict";this._flyout.setActiveNode(this._button)};Object.assign(a.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});e.exports=a}),null);
__d("SwapButton",["DOM","Event","Focus"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c,d){b("DOM").insertAfter(c,a),b("DOM").remove(c),d&&b("Focus").setWithoutOutline(a)}function a(a,c,d){"use strict";this._swapperButton=a,this._swappeeButton=c,b("Event").listen(a,"click",g.bind(null,c,a,!0)),d&&b("Event").listen(c,"click",g.bind(null,a,c,!0))}a.prototype.swap=function(a){"use strict";this._swapperButton.parentNode&&g(this._swappeeButton,this._swapperButton,a)};a.prototype.unswap=function(a){"use strict";this._swapperButton.parentNode||g(this._swapperButton,this._swappeeButton,a)};a.prototype.toggle=function(a){"use strict";this._swapperButton.parentNode?this.swap(a):this.unswap(a)};a.prototype.getCurrentButton=function(){"use strict";return this._swapperButton.parentNode?this._swapperButton:this._swappeeButton};Object.assign(a.prototype,{_swapperButton:null,_swappeeButton:null});e.exports=a}),null);
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","mixin","removeFromArray","shield"],(function(a,b,c,d,e,f){__p&&__p();var g;d=babelHelpers.inherits(c,b("mixin")(b("ArbiterMixin")));g=d&&d.prototype;function c(a,c,d,e){"use strict";g.constructor.call(this),a&&(this._showDelay=d,this._hideDelay=e,this.init(a),c&&this.initNode(c)),b("Arbiter").subscribe("SwapButtonDEPRECATED/focusOnJoinButton",b("shield")(this.hideFlyout,this),"all")}c.prototype.init=function(a){"use strict";__p&&__p();this._flyout=a;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe("mouseenter",this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe("mouseleave",b("shield")(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique="HoverFlyout_"+Date.now()+"_listeners";return this};c.prototype.initNode=function(a){"use strict";if(this._nodes.includes(a))return this;this._nodes.push(a);b("DataStore").set(a,this._dataStoreUnique,[b("Event").listen(a,"mouseenter",this._onNodeMouseEnter.bind(this,a)),b("Event").listen(a,"mouseleave",b("shield")(this.hideFlyout,this)),b("Event").listen(a,"click",this._onNodeMouseEnter.bind(this,a)),b("Event").listen(a,"keydown",this._onNodeKeyEscape.bind(this))]);return this};c.prototype.deactivateNode=function(a){"use strict";var c=b("DataStore").get(a,this._dataStoreUnique);if(c)while(c.length)c.pop().remove();b("removeFromArray")(this._nodes,a)};c.prototype.setShowDelay=function(a){"use strict";this._showDelay=a;return this};c.prototype.setHideDelay=function(a){"use strict";this._hideDelay=a;return this};c.prototype.showFlyout=function(a,b){"use strict";this.setActiveNode(a);b?(this._flyout.setContext(a).show(),this.inform("show",a)):this._showTimeout=setTimeout(this.showFlyout.bind(this,a,!0),this._showDelay);return this};c.prototype.hideFlyout=function(a){"use strict";clearTimeout(this._showTimeout),a?(this._flyout.hide(),this._activeNode&&this.inform("hide",this._activeNode),this._activeNode=null):this._hideTimeout=setTimeout(this.hideFlyout.bind(this,!0),this._hideDelay)};c.prototype.hideFlyoutDelayed=function(a){"use strict";clearTimeout(this._showTimeout),clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hideFlyout.bind(this,!0),a)};c.prototype.getActiveNode=function(){"use strict";return this._activeNode};c.prototype.setActiveNode=function(a){"use strict";clearTimeout(this._hideTimeout);this._activeNode&&this._activeNode!==a&&this.hideFlyout(!0);this._activeNode=a;return this};c.prototype.clearNodes=function(){"use strict";for(var a=this._nodes.length;a>0;a--)this.deactivateNode(this._nodes[a-1])};c.prototype.destroy=function(){"use strict";while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes()};c.prototype._onNodeMouseEnter=function(a){"use strict";this._activeNode===a?clearTimeout(this._hideTimeout):this.showFlyout(a)};c.prototype._onFlyoutMouseEnter=function(){"use strict";clearTimeout(this._hideTimeout)};c.prototype._onNodeKeyEscape=function(event){"use strict";b("Event").getKeyCode(event)===b("Keys").ESC&&(this._activeNode&&this.inform("hide",this._activeNode),this._activeNode=null)};e.exports=a.HoverFlyout||c}),null);
__d("XUIBadge",["cx","invariant","CSS","DOM","formatNumber"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a){return parseInt(a,10)===a}function a(a){"use strict";this.target=a.target,this.count=a.count,this.maxcount=a.maxcount}a.prototype.getCount=function(){"use strict";return this.count};a.prototype.setCount=function(a){"use strict";i(a)||h(0,undefined),a>=0||h(0,undefined),this.count=a,b("CSS").conditionClass(this.target,"hidden_elem",this.count===0),b("DOM").setContent(this.target,b("formatNumber").withMaxLimit(a,this.maxcount)),a>this.maxcount?b("CSS").addClass(this.target,"_5ugi"):b("CSS").removeClass(this.target,"_5ugi")};a.prototype.setLegacyContent=function(a){"use strict";typeof a==="string"?(b("CSS").conditionClass(this.target,"hidden_elem",a==0),b("DOM").setContent(this.target,a),b("CSS").removeClass(this.target,"_5ugi")):this.setCount(a)};a.prototype.increment=function(){"use strict";this.setCount(this.getCount()+1)};e.exports=a}),null);
__d("VideoAutoplayPlayerBase",["EventEmitter","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.wasVisible=!1,this.$VideoAutoplayPlayerBase1=[],b}a.prototype.isVisible=function(){throw new Error("Should be overridden")};a.prototype.getDistanceToViewport=function(){throw new Error("Should be overridden")};a.prototype.getVideoPlayerController=function(){b("FBLogger")("video").warn(["VideoAutoplayPlayerBase.getVideoPlayerController()","was called and returned null."].join(" "));return null};a.prototype.logDisplayed=function(){throw new Error("Should be overridden")};a.prototype.playWithoutUnmute=function(a){throw new Error("Should be overridden")};a.prototype.pause=function(a){throw new Error("Should be overridden")};a.prototype.isAutoplayable=function(){throw new Error("Should be overridden")};a.prototype.getDOMPosition=function(){throw new Error("Should be overridden")};a.prototype.isLooping=function(){throw new Error("Should be overridden")};a.prototype.isState=function(a){throw new Error("Should be overridden")};a.prototype.preload=function(){throw new Error("Should be overridden")};a.prototype.isMuted=function(){throw new Error("Should be overridden")};a.prototype.isPlaying=function(){throw new Error("Should be overridden")};a.prototype.shouldPauseWhenScrolledOffscreen=function(){throw new Error("Should be overridden")};a.prototype.getAutoplayRules=function(){return this.$VideoAutoplayPlayerBase1};a.prototype.registerAutoplayRule=function(a){this.$VideoAutoplayPlayerBase1.push(a)};e.exports=a}),null);
__d("AttachmentRelatedShareConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARTICLE_CLICK:"article_click",VIDEO_CLICK:"video_click",FBVIDEO_CLICK:"fbvideo_click",FBVIDEO_VIEW:"fbvideo_view",GAME_CLICK:"game_click",PHOTO_CLICK:"photo_click",EVENT_JOIN:"event_join",PRODUCT_CLICK:"product_click",MAP_CLICK:"map_click",ACTION_BUTTON_CLICK:"action_button_click",SHOW_FOLLOW_CLICK:"show_follow_click"})}),null);
__d("MainThreadPerformanceLoggerActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCROLL:"scroll",TAIL_LOAD:"tail_load"})}),null);
__d("NavigationMetricsEnumJS",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"})}),null);
__d("ResourceTimingMetricsEnumJS",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"})}),null);
__d("ImageTimingHelper",["Arbiter","BigPipe","URI"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={};function i(a){__p&&__p();var c=a.lid,d=a.pagelet,e=a.images,f=a.timeslice,i=a.ts,j=g[c];j||(j=g[c]=[]);e.forEach(function(a){try{var c=new(b("URI"))(a);a=c.setFragment("").toString()}catch(a){return}if(h[a])return;h[a]=!0;j.push({pagelet:d,timeslice:f,ts:i,uri:a})})}b("Arbiter").subscribe(b("BigPipe").Events.init,function(a,b){b.lid&&b.lid!=="0"&&b.arbiter.subscribe("images_displayed",function(a,b){i(b)})});b("Arbiter").subscribe("MRenderingScheduler/images_displayed",function(a,b){i(b)});e.exports.getImageTimings=function(a){return g[a]||[]}}),null);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],(function(a,b,c,d,e,f){__p&&__p();function g(a,c){var d={};b("forEachObject")(b("NavigationMetricsEnumJS"),function(b){var e=c[b];e&&(d[b]=e+a)});return d}var h={getAsyncRequestTimings:function(a){if(!a||!b("performance").timing||!b("performance").getEntriesByName)return undefined;a=b("performance").getEntriesByName(a);return a.length===0?undefined:g(b("performance").timing.navigationStart,a[0])},getPerformanceNavigationTiming:function(){if(!b("performance").timing||!b("performance").getEntriesByType)return{};var a=b("performance").getEntriesByType("navigation");return!a.length?{}:g(b("performance").timing.navigationStart,a[0])},getNavTimings:function(){if(!b("performance").timing)return undefined;var a=babelHelpers["extends"]({},g(0,b("performance").timing),h.getPerformanceNavigationTiming());return g(0,a)}};e.exports=h}),null);
__d("PageletEventsHelper",["Arbiter","PageletEventConstsJS"],(function(a,b,c,d,e,f){__p&&__p();var g="BigPipe/init",h="MRenderingScheduler/init",i="pagelet_event",j="phase_begin",k={},l=[],m=!1;function n(){return{pagelets:{},categories:{},phase_start:{},display_resources:{},all_resources:{}}}function o(a,b,c,d){k[d]==undefined&&(k[d]=n()),k[d].pagelets[b]==undefined&&(k[d].pagelets[b]={}),k[d].pagelets[b][a]=c}function p(a){__p&&__p();a.subscribe(i,function(a,c){__p&&__p();var event=c.event,d=c.ts;a=c.id;var e=c.lid,f=c.phase,g=c.categories,h=c.allResources;c=c.displayResources;o(event,a,d,e);var i=k[e],j=i.pagelets[a];event===b("PageletEventConstsJS").ARRIVE_END&&(j.phase=f,i.all_resources[a]=h,i.display_resources[a]=c);(event===b("PageletEventConstsJS").ONLOAD_END||event===b("PageletEventConstsJS").DISPLAY_END)&&g&&g.forEach(function(a){i.categories[a]==undefined&&(i.categories[a]={}),i.categories[a][event]=d});for(var j=0,f=l.length;j<f;j++)l[j](a,event,d,e)}),a.subscribe(j,function(event,a){k[a.lid].phase_start[a.phase]=a.ts})}a={init:function(){__p&&__p();if(m)return;b("Arbiter").subscribe(g,function(event,a){var b=a.lid;a=a.arbiter;k[b]=n();p(a)});b("Arbiter").subscribe(h,function(event,a){var b=a.lid;a=a.arbiter;k[b]=n();p(a)});m=!0},getMetrics:function(a){return k[a]?JSON.parse(JSON.stringify(k[a])):null},subscribeToPageletEvents:function(a){l.push(a);return{remove:function(){l.splice(0,l.indexOf(a))}}}};e.exports=a}),null);
__d("ResourceTimingBootloaderHelper",["Bootloader","ErrorUtils","ImageTimingHelper","ResourceTimingMetricsEnumJS","ResourceTimingsStore","ResourceTypes","URI","forEachObject","isEmpty","performance"],(function(a,b,c,d,e,f){__p&&__p();var g=500,h=[],i={},j={},k={},l=[".mp4",".m4v",".mpd","m4a"],m=new Set(["bootload","js_exec","start_bootload","tag_bootload"]);function n(a){for(var b=0;b<l.length;b++){var c=l[b];if(a.endsWith(c))return!0}return!1}function o(a){__p&&__p();var c=new Map();b("ResourceTimingsStore").getMapFor(a).forEach(function(a){if(a.requestSent!=null){var b=c.get(a.uri);b!=null?b.push(a):c.set(a.uri,[a])}});c.forEach(function(a){return a.sort(function(a,b){return a.requestSent-b.requestSent})});return c}function p(a,b,c,d){__p&&__p();var e=a.get(b);if(e==null){var f=b.indexOf("?");if(f!==-1){b=b.substring(0,f);e=a.get(b)}}if(e!=null)for(var f=0;f<e.length;f++){a=e[f];b=a.requestSent;a=a.responseReceived;if((c==null||b!=null&&b<=c)&&(d==null||a!=null&&a>=d))return e.splice(f,1)[0]}return null}function q(a,c,d,e,f,g,h){__p&&__p();if(!b("performance").timing||!b("performance").getEntriesByType)return null;var i={},l=b("performance").timing.navigationStart;d&&(i=b("ImageTimingHelper").getImageTimings(e).sort(function(a,b){return a.ts-b.ts}).reduce(function(a,b){if(a[b.uri])return a;a[b.uri]=b.pagelet;return a},{}));d=Array.from(b("performance").getEntriesByType("resource"));e=d.filter(function(a){return a.duration>=0&&a.startTime!=null&&a.startTime+l>c&&(f==null||a.responseEnd==null||a.responseEnd+l<f)});e.sort(function(a,b){return a.startTime-b.startTime});d=e.length;var m=0,q=0,u=0,v=0,w=0,x=o(b("ResourceTypes").XHR),y=o(b("ResourceTypes").CSS),z=o(b("ResourceTypes").JS);for(var A=0;A<e.length;A++){var B=e[A],C="",D="",E=void 0,F=B.initiatorType;switch(F){case"css":case"link":case"script":F=b("ResourceTimingsStore").parseMakeHasteURL(B.name);if(!F)continue;var G=F[0];F=F[1];if(F==="css"||F==="js"){var H=F==="css"?y:z;E=p(H,B.name,B.startTime+l,B.responseEnd+l);if(E!=null&&h){D=F;C=E.uid;break}else{D=F;H=k[B.name]||u++;C=H+"_"+G}}else{F=t(B.name);H=F[0];D=F[1];C=q+++"_"+H}break;case"img":C=q+++"_"+r(B.name);D="img";break;case"iframe":C=v+++"_"+r(B.name)+s(B.name);D="iframe";break;case"xmlhttprequest":if(g){G=r(B.name);F=s(B.name);if(n(F)){C=w+++"_"+G+F;D="video";break}else{E=p(x,B.name,B.startTime+l,B.responseEnd+l);if(E!=null){D=b("ResourceTypes").XHR;C=E.uid;break}}}default:continue}H={};G=Object.keys(b("ResourceTimingMetricsEnumJS"));for(var F=0;F<G.length;F++){var I=b("ResourceTimingMetricsEnumJS")[G[F]],J=B[I];J&&(H[I]=J+b("performance").timing.navigationStart)}if(E!=null){I=E;J=I.requestSent;F=I.responseReceived;if(c!=null&&J!=null&&J<c||f!=null&&F!=null&&F>f)continue;H.requestSent=J;H.responseReceived=F}H.type=D;H.desc=C;if(E!=null&&(D===b("ResourceTypes").JS||D===b("ResourceTypes").CSS||D===b("ResourceTypes").XHR)){G=b("ResourceTimingsStore").getAnnotationsFor(D,E.uid);G!=null&&(H.annotations=G)}D=="img"&&Object.prototype.hasOwnProperty.call(i,B.name)&&(H.pagelet=i[B.name]);H.transferSize=B.transferSize;H.encodedBodySize=B.encodedBodySize;a[B.name]==undefined&&(a[B.name]=[]);m++;a[B.name].push(H)}return h?{numValidEntries:d,numSuccessfulMetrics:m}:null}function r(a){a=new(b("URI"))(a).getDomain();return a}function s(a){a=new(b("URI"))(a).getPath();return a}function t(a){return[r(a),"img"]}function u(a){__p&&__p();var b=Object.keys(a).filter(function(a){return a.startsWith("start_bootload/")}).sort(function(b,c){return a[b]-a[c]}).map(function(a){return a.substring(a.indexOf("/")+1)});b.forEach(function(b){return m.forEach(function(c){c=c+"/"+b;a[c]!=null&&(i[c]=a[c])})});h=h.concat(b);if(h.length>g){b=h.splice(0,h.length-g);b.forEach(function(a){return m.forEach(function(b){i[b+"/"+a]&&delete i[b+"/"+a]})})}}a={addPastBootloaderMetricsToResourceTimings:function(c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={});var a=b("Bootloader").getURLToHashMap();b("forEachObject")(c,function(b,c){__p&&__p();var e=a[c];if(!e)return;var f=new Map();f.set("bootloader_hash",e);m.forEach(function(a){var b=a+"/"+e;b=d[b]||i[b];b!=null&&f.set(a,b)});f.size>0&&b.forEach(function(a){if(a.requestSent||a.responseReceived)return;f.forEach(function(b,c){return a[c]=b})})})},mergeBootloaderMetricsAndResourceTimings:function(a,c,d){__p&&__p();a===void 0&&(a={});c===void 0&&(c={});d===void 0&&(d=!0);b("isEmpty")(k)&&(k=b("Bootloader").getURLToHashMap());var e=new Map();b("forEachObject")(k,function(a,b){e.set(a,b)});var f=[];b("forEachObject")(c,function(b,c){__p&&__p();var d=c.indexOf("/");if(d===-1)return;var g=c.substring(0,d);if(!m.has(g))return;f.push(c);var h=c.substring(d+1);c=e.get(h);if(!c){c=h;h=k[c];if(!h)return}c.startsWith("data:")&&(c="inlined resource: "+h);a[c]==null&&(a[c]=[{}]);a[c].forEach(function(a){a.bootloader_hash=h,a[g]=b})});d||(u(c),f.forEach(function(a){return delete c[a]}));return a},getLastTTIAndE2EImageResponseEnds:function(a,c,d){__p&&__p();var e={TTI:a,E2E:c};if(!b("performance").timing)return e;var f=d.filter(function(b){return b.ts<=a}).map(function(a){return a.uri}).reduce(function(b,a){b[a]=!0;return b},{}),g=d.map(function(a){return a.uri}).reduce(function(b,a){b[a]=!0;return b},{});for(var h in j)j[h].forEach(function(a){a.type==="img"&&(f[h]&&(e.TTI=Math.max(e.TTI,a.responseEnd)),g[h]&&(e.E2E=Math.max(e.E2E,a.responseEnd)))});return e},getMetrics:function(a,c,d,e,f,g){j={};b("isEmpty")(k)&&(k=b("Bootloader").getURLToHashMap());a=q(j,a,c,d,e,f,g);return{data:j,diagnostics:a}}};e.exports=a}),null);
__d("PerfXFlusher",["invariant","Banzai"],(function(a,b,c,d,e,f,g){var h="perfx_custom_logger_endpoint",i=["perfx_page","perfx_page_type","lid"];function j(a){i.forEach(function(b){return g(b in a,'PerfXFlusher: Field "%s" missing in the PerfX payload',b)})}a={flush:function(a){j(a),b("Banzai").post(h,a,{signal:!0})},registerToSendWithBeacon:function(a){b("Banzai").registerToSendWithBeacon(h,a)}};e.exports=a}),null);
__d("pageLoadedViaSWCache",[],(function(a,b,c,d,e,f){function a(){return self.__SW_CACHE__===1}e.exports=a}),null);
__d("PerfXLogger",["ArtilleryOnUntilOffLogging","BanzaiODS","DataAttributeUtils","NavigationMetrics","NavigationTimingHelper","PerfXFlusher","PerfXSharedFields","QuicklingRefreshOverheadUtil","VisibilityListener","forEachObject","pageLoadedViaSWCache","performanceAbsoluteNow","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={},i=65*1e3,j=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded","artillery_disable_time"],k={},l={_listenersSetUp:!1,_uploadEarly:!1,_alreadyUploadedEarly:!1,_setupListeners:function(){__p&&__p();if(this._listenersSetUp)return;this._subscribeToNavigationMetrics();b("PerfXFlusher").registerToSendWithBeacon(function(){var a=[];b("forEachObject")(g,function(b,c){if(!g[c].sent){b=this.getPayload(c,"unload fired");b!=null&&a.push(b)}}.bind(this));g={};return a}.bind(this));this._listenersSetUp=!0},_init:function(a){__p&&__p();var b=a.lid;if(b==null)return;this._alreadyUploadedEarly=!1;this._uploadEarly=!!a.upload_perfx_early;delete a.upload_perfx_early;var c=h[b]||[];delete h[b];if(a.sw_controlled_tags){if(navigator.serviceWorker&&navigator.serviceWorker.controller)for(var d=0;d<a.sw_controlled_tags.length;d++)c.push(a.sw_controlled_tags[d]);delete a.sw_controlled_tags}g[b]=babelHelpers["extends"]({tags:new Set(c),sent:!1},a);this._registerTimeoutSendback(b);this._setupListeners()},initWithNavigationMetricsLID:function(a,c){__p&&__p();var d=b("NavigationMetrics").getFullPageLoadLid();if(!d)return;this._init(babelHelpers["extends"]({},c,{lid:d}));if(a&&a.always)for(var c=0;c<a.always.length;c++)l.addTag(d,a.always[c]);if(a&&a.swCache&&b("pageLoadedViaSWCache")())for(var c=0;c<a.swCache.length;c++)l.addTag(d,a.swCache[c])},init:function(a,b){b!=null&&a.lid!=null&&(k[a.lid]=b),this._init(a)},addTag:function(a,c){this._alreadyUploadedEarly&&b("BanzaiODS").bumpEntityKey("PerfXLateTag",c);var d=g[a];if(d){d.tags.add(c);return}h[a]||(h[a]=[]);h[a].push(c)},addTagWithNavigationMetricsLID:function(a){this._alreadyUploadedEarly&&b("BanzaiODS").bumpEntityKey("PerfXLateTag",a);var c=b("NavigationMetrics").getFullPageLoadLid();if(!c)return;l.addTag(c,a)},_registerTimeoutSendback:function(a){var c=this._getFetchStart(a),d=i;c!=null&&(d-=b("performanceAbsoluteNow")()-c);b("setTimeoutAcrossTransitions")(function(){return this._uploadPayload(a,"sendback time out")}.bind(this),d)},_subscribeToNavigationMetrics:function(){__p&&__p();b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.EVENT_OCCURRED,function(a,b){if(!(a in g))return;j.includes(b.event)&&Object.prototype.hasOwnProperty.call(b,"timestamp")&&b.timestamp!=null&&(g[a][b.event]=b.timestamp);b.event==="all_pagelets_displayed"&&this._uploadEarly&&(j.forEach(function(event){Object.prototype.hasOwnProperty.call(b,event)&&b[event]!=null&&(g[a][event]=b[event])}),this._uploadPayload(a),this._alreadyUploadedEarly=!0)}.bind(this)),b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,b){var c=b.serverLID;if(!(c in g))return;j.forEach(function(event){Object.prototype.hasOwnProperty.call(b,event)&&b[event]!=null&&(g[c][event]=b[event])});this._uploadPayload(c)}.bind(this))},_getPayloadWithOffset:function(a,c,d){__p&&__p();a=g[a];if(a==null)return null;var e=Object.assign({},a),f=document.querySelector('[id^="hyperfeed_story_id"]');if(f){f=JSON.parse(b("DataAttributeUtils").getDataFt(f));f&&(e.mf_query_id=f.qid)}e.tags=Array.from(a.tags);e.art_id||(e.artillery_disable_time=b("ArtilleryOnUntilOffLogging").lastDisableTime());this._adjustValues(e,c);e.fetch_start=c;if(e.perfx_page_type==="normal"){f=b("NavigationTimingHelper").getNavTimings();f!=null&&f.navigationStart!=null&&(e.nav_to_fetch=c-f.navigationStart);a=b("QuicklingRefreshOverheadUtil").getOverhead(c);a!==null&&(e.quickling_refresh_overhead=a)}d!=null&&(e.sendback_reason=d);b("PerfXSharedFields").addCommonValues(e);b("VisibilityListener").supported()&&e.fetch_start&&e.all_pagelets_displayed&&e.tti&&e.e2e&&(e.tab_hidden_time_dd=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.all_pagelets_displayed),e.tab_hidden_time_tti=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.tti),e.tab_hidden_time_e2e=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.e2e));window&&window.location&&window.location.pathname&&(e.request_uri=window.location.pathname);delete e.sent;return e},_uploadPayload:function(a,c){if(g[a]!=null&&!g[a].sent){c=this.getPayload(a,c);c!=null&&(b("PerfXFlusher").flush(c),g[a].sent=!0)}},getPayload:function(a,b){return this._getPayloadWithOffset(a,this._getFetchStart(a),b)},_getFetchStart:function(a){if(!(a in g))return null;var c=g[a].perfx_page_type;if(c=="quickling")if(!(a in k))return null;else c=b("NavigationTimingHelper").getAsyncRequestTimings(k[a]);else c=b("NavigationTimingHelper").getNavTimings();return!c||!c.fetchStart?null:c.fetchStart},_adjustValues:function(a,b){j.forEach(function(c){Object.prototype.hasOwnProperty.call(a,c)&&(a[c]-=b)})}};e.exports=l}),null);