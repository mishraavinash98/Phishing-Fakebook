if (self.CavalryLogger) { CavalryLogger.start_js(["wffqu"]); }

__d("DetectBrokenProxyCache",["AsyncSignal","Cookie","URI"],(function(a,b,c,d,e,f){function a(a,c){var d=b("Cookie").get(c);if(d!=a&&d!=null&&a!="0"){c={c:"si_detect_broken_proxy_cache",m:c+" "+a+" "+d};a=new(b("URI"))("/common/scribe_endpoint.php").getQualifiedURI().toString();new(b("AsyncSignal"))(a,c).send()}}e.exports={run:a}}),null);
__d("AdsTransparencyReportAdEntity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ARCHIVE_REDIRECT:"ad_archive_redirect",AD_USEFUL:"ad_useful",ADSCRIBE:"adscribe",DEPRECATED_HIDE:"deprecated_hide",HIDE_AD:"hide_ad",HIDE_ADVERTISER:"hide_advertiser",HIDE_PRODUCT:"hide_product",REPORT_AD_NUX:"report_ad_nux",WAIST_DIALOG:"waist_dialog",REPORT_AD:"report_ad",REPORT_AD_REASON:"report_ad_reason",TOMBSTONE:"tombstone",SAVE_AD:"save_ad",UNDO_HIDE_AD:"undo_hide_ad",UNDO_HIDE_PRODUCT:"undo_hide_product",UNDO_HIDE_ADVERTISER:"undo_hide_advertiser",UNDO_REPORT_AD:"undo_report_ad",XOUT_MENU:"xout_menu"})}),null);
__d("AdsTransparencyReportAdEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BACKEND_AD_XOUT_EVENT_WRITE:"backend_ad_xout_event_write",BACKEND_ASSOC_WRITE:"backend_assoc_write",BACKEND_UNDO_AD_XOUT_EVENT_WRITE:"backend_undo_ad_xout_event_write",BACKEND_UNDO_ASSOC_WRITE:"backend_undo_assoc_write",CLICK:"click",IMPRESSION:"impression",INFO:"info",INVALIDATION:"invalidation"})}),null);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAdID=function(a){this.$1.ad_id=a;return this};a.prototype.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};a.prototype.setEntity=function(a){this.$1.entity=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setProductLocation=function(a){this.$1.product_location=a;return this};a.prototype.setReportReason=function(a){this.$1.report_reason=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={ad_id:!0,ads_page_type:!0,entity:!0,event:!0,product_location:!0,report_reason:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("ReportAdLoggingEvents",["AdsTransparencyReportAdEntity","AdsTransparencyReportAdEvent","AdsTransparencyReportAdTypedLogger","EventListener","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={registerMenuItemClick:function(a,c,d,e,f,g,h,i){b("EventListener").listen(a,"click",function(){new(b("AdsTransparencyReportAdTypedLogger"))().setEvent(b("AdsTransparencyReportAdEvent").CLICK).setAdID(c).setEntity(d).setSessionID(e).setProductLocation(g).setAdsPageType(f).addToExtraData("reorder_treatment",i).log();if(d===b("AdsTransparencyReportAdEntity").XOUT_MENU&&h){var a=new(b("WebFunnelLogger"))("AdsReportingFunnelDefinition");a.markStart();a.setAction("click").setActionTag("xout_menu").addFunnelPayload("flowtype",h).setSessionKey(c).log()}})}};e.exports=a}),null);
__d("CameraFileBugButton.react",["ix","fbt","AsyncDialog","AsyncRequest","Image.react","React","ReactMenu","fbglyph"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("ReactMenu").Item,j="/ajax/bugs/report",k="219500115583764";function a(){var a=function(){b("AsyncDialog").send(new(b("AsyncRequest"))().setData({product_category_id:k}).setURI(j))};return b("React").createElement(i,{onClick:a,key:"bug"},b("React").createElement(b("Image.react"),{src:g("112874")}),h._("Something isn't working"))}e.exports=a}),null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/ajax/reminder/impression/",{acontext:{type:"StringToStringMap",required:!0},data:{type:"StringToStringMap"}})}),null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","Scroll","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],(function(a,b,c,d,e,f){__p&&__p();a={registerReminder:function(a,c){__p&&__p();this._firstOpen=!0;var d=a.getDialog(),e=b("ScrollableArea").getInstance(b("DOMQuery").scry(d.getRoot(),".uiScrollableArea")[0]),f=null;e&&(f=b("DOM").find(e.getElement(),"div.uiScrollableAreaWrap"),e.subscribe("scroll",function(){return b("Arbiter").inform("EventReminderDialog/scroll",{rect:f.getBoundingClientRect(),scrollTop:b("Scroll").getTop(f)})}));b("Event").listen(a.getRoot(),"click",function(event){event.preventDefault()});d.subscribe("show",function(){var a=b("XEventReminderImpressionLoggerAsyncController").getURIBuilder().setStringToStringMap("acontext",c).setStringToStringMap("data",{first_open:this._firstOpen}).getURI();new(b("AsyncRequest"))(a).send();this._firstOpen=!1;a={};f&&(a={rect:f.getBoundingClientRect()});b("Arbiter").inform("EventReminderDialog/show",a)}.bind(this));d.subscribe("hide",function(){return b("Arbiter").inform("EventReminderDialog/hide")})}};e.exports=a}),null);
__d("AddToStoryPogDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DIALOG:"DIALOG",EMPTY_FEED_COMPOSER:"EMPTY_FEED_COMPOSER",SATP_FEED_COMPOSER:"SATP_FEED_COMPOSER"})}),null);
__d("FBStoriesFeedComposerViewer",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={focusComposer:function(a,c){b("Bootloader").loadModules(["FBStoriesFeedComposer"],function(b){b.open(a,c)},"FBStoriesFeedComposerViewer")}};e.exports=a}),null);
__d("FBStoriesProductionActions",["AddToStoryPogDestinationType","FBStoriesActions","FBStoriesFeedComposerViewer","FBStoriesTrayConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={openProductionDialog:function(){var a=function(){b("FBStoriesActions").setIsProductionDialogLoading(!1)},c=b("FBStoriesTrayConfig").productionDestination;if(!c){a();return}b("FBStoriesActions").setIsProductionDialogLoading(!0);c===b("AddToStoryPogDestinationType").EMPTY_FEED_COMPOSER||c===b("AddToStoryPogDestinationType").SATP_FEED_COMPOSER?b("FBStoriesFeedComposerViewer").focusComposer(c,a):a()},setUserBucketUploadStatus:function(a){b("FBStoriesActions").setUserBucketUploadStatus(a)}};e.exports=a}),null);
__d("StoriesQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LWR_TAP_ANIMATION_TTI:13238316,MEDIA_DISPLAY_TTI:13238280,REPLY_BAR_TTI:13238307,ROW_COLD_START_TTI:13238277,ROW_REFRESH_TTI:13238279,STORIES_TRAY_TTRC:13238320,STORIES_TTRC:13238319,STORY_VIEWER_LOAD_TTI:13238296,STORY_VIEWER_RESPONSIVENESS:13238312,STORY_VIEWER_SWIPE_FPS:13238308,STORY_VIEWER_TRANSITION_FPS:13238311,STORY_WARM_START_TTI:13238283,TRAY_COMPLETE_TTI:13238299,TRAY_LOAD_PAGINATION_TTI:13238297,TRAY_LOAD_TTI:13238293,VIEWER_FIRST_STORY_LOAD_TTI:13238273,VIEWER_NEXT_BUCKET_TTI:13238275,VIEWER_NEXT_STORY_TTI:13238274,VIEWER_SHEET_LOAD_TTI:13238298,VIEWER_SHEET_TTRC:13238306,STORY_VIEWER_LOAD_FIRST_TIME_WWW:13238314,STORY_VIEWER_LOAD_TTI_WWW:13238313})}),null);
__d("FBStoriesTray",["csx","regeneratorRuntime","Arbiter","CSS","DOMQuery","FBLogger","FBStoriesProductionActions","FBStoriesTrayInit","QuickPerformanceLogger","Run","StoriesQuickLogModule"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;function i(a){b("CSS").addClass(a,"loading")}function j(a){b("CSS").removeClass(a,"loading")}var k={init:function(){if(h)return;this._initializeOnEnter();b("FBStoriesTrayInit").loadData()},onStoryTrayItemSelect:function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:b("QuickPerformanceLogger").markerStart(b("StoriesQuickLogModule").STORY_VIEWER_LOAD_FIRST_TIME_WWW);c=a.item,d=a.bucketID;i(c);e.prev=3;h||this._initializeOnEnter();e.next=7;return b("regeneratorRuntime").awrap(b("FBStoriesTrayInit").loadData());case 7:if(b("FBStoriesTrayInit").userSelectedBucket(d)){e.next=9;break}return e.abrupt("return");case 9:e.next=11;return b("regeneratorRuntime").awrap(b("FBStoriesTrayInit").openViewer());case 11:b("QuickPerformanceLogger").markerEnd(b("StoriesQuickLogModule").STORY_VIEWER_LOAD_FIRST_TIME_WWW,"SUCCESS");j(c);b("FBStoriesTrayInit").renderReactTray();e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),b("FBLogger")("fbstories").catching(e.t0).warn("Error loading initial user tray data"),j(c);case 20:case"end":return e.stop()}},null,this,[[3,16]])},onStoryTrayAddItemClick:function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c=a.item,i(c),k.init(),b("FBStoriesProductionActions").openProductionDialog(),j(c),b("FBStoriesTrayInit").renderReactTray();case 6:case"end":return d.stop()}},null,this)},onComposerStoryPostClick:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:k.init(),b("FBStoriesProductionActions").setUserBucketUploadStatus(!0),b("FBStoriesTrayInit").renderReactTray();case 3:case"end":return a.stop()}},null,this)},onSeeMoreLinkClick:function(a){b("CSS").addClass(b("DOMQuery").find(a.linkEl,"^._60kg ._1fvt"),"seeMore"),b("Arbiter").inform("netego_loaded")},_initializeOnEnter:function(){h=!0,b("FBStoriesTrayInit").initializeOnEnter(),b("Run").onBeforeUnload(this._resetOnUnload)},_resetOnUnload:function(){if(b("FBStoriesTrayInit").isReactTrayRendered())return;k.resetOnExit()},resetOnExit:function(){h=!1,b("FBStoriesTrayInit").resetOnExit()}};e.exports=k}),null);
__d("FBStoriesPlusPog.react",["ix","cx","Image.react","React","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=b("React").createElement("div",{className:"_66a_"},b("React").createElement(b("Image.react"),{src:g("424422")})),c="_26w4 no-border"+(this.props.size==="small"?" size-small":"")+(this.props.size==="small-48"?" size-small-48":"");return b("React").createElement("div",{className:c},a,b("React").createElement(b("XUISpinner.react"),{size:"large",background:"light",className:"_26ww"}))};function a(){i.apply(this,arguments)}a.defaultProps={size:"normal"};e.exports=a}),null);
__d("FBStoriesTrayFullAddItem.react",["cx","fbt","FBStoriesPlusPog.react","FBStoriesPog.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.profileImageUri?b("React").createElement(b("FBStoriesPog.react"),{borderOption:"hide",profileImageUri:a.profileImageUri,size:"small-48"}):b("React").createElement(b("FBStoriesPlusPog.react"),{size:"small-48"});return b("React").createElement(b("ShimButton.react"),{className:"_1zp8"+(a.loading?" loading":"")+(a.profileImageUri?" _2grz":""),onClick:a.loading?null:a.onClick},c,b("React").createElement("div",{className:"_mx9 _mxa verbose"},b("React").createElement("span",{className:"_mxb _64xb _4u-0"},h._("Add to your story")),b("React").createElement("div",{className:"_31yn"},b("React").createElement("span",null,h._("Share a photo or video or write something")))))}e.exports=a}),null);
__d("FBStoriesVerticalLayout.react",["cx","fbt","Arbiter","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=4;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={seeMore:this.props.seeMore},this.$1=function(){return this.setState({seeMore:!0},function(){return b("Arbiter").inform("netego_loaded")})}.bind(this),c}a.prototype.render=function(){var a=this.props.children,c=b("React").Children.count(a);c=!this.state.seeMore&&c>j;a=b("React").createElement("div",{key:"list",className:"_1fvt vertical-4pog"+(this.state.seeMore?" seeMore":"")},a);c=c&&b("React").createElement("a",{key:"link",className:"_31yr",href:"#",onClick:this.$1},b("React").createElement("span",{className:"_jyz"}),h._("See more"));return[a,c]};e.exports=a}),null);
__d("FBStoriesTray.react",["cx","fbt","FBStoriesBucketHelper","FBStoriesPog.react","FBStoriesThreadHelper","FBStoriesTrayFullAddItem.react","FBStoriesTrayFullItem.react","FBStoriesTrayItemTitle.react","FBStoriesVerticalLayout.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state={yourStoryHereNUXDismissed:b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").STORY_SEEN_HERE_WWW)},this.$4=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").STORY_SEEN_HERE_WWW),this.setState({yourStoryHereNUXDismissed:!0})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props,c=a.friendsData,d=a.userBucketHasContent;a=a.userBucket;c=!c||c.length===0;var e=null;if(c&&!d&&!this.props.showProduction)return null;c=[];this.props.showProduction&&!this.props.userBucketHasContent&&c.push(this.$2());(this.props.userBucketHasContent||b("FBStoriesBucketHelper").isUploading(a))&&(c.push(this.$3()),e=this.props.yourStoryHereNUXEligible?b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.$1}.bind(this),key:"userStoryNUX",offsetX:6,offsetY:-4,onCloseButtonClick:this.$4,position:"below",shown:!this.state.yourStoryHereNUXDismissed,width:"auto"},h._("See your story here!")):null);c=c.concat([].concat(this.$5()));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesVerticalLayout.react"),{ket:"stories",seeMore:!!this.props.isSeeMoreMode},c),e)};a.prototype.$6=function(a){return b("React").createElement("div",{key:a,className:"_1fvw"},b("React").createElement("div",{className:"_rqg"}))};a.prototype.$2=function(){return b("React").createElement(b("FBStoriesTrayFullAddItem.react"),{key:"production",loading:this.props.isProductionDialogLoading,onClick:this.props.onAddStoryItemSelect})};a.prototype.$3=function(){var a=this.props,c=a.userBucket,d=a.userBucketHasUpdates,e=a.userBucketHasContent,f=a.userBucketHasNewViewers,g=a.userBucketIsLive;a=a.onItemSelect;var h=b("FBStoriesBucketHelper").getCameraPostType(c),i=b("FBStoriesBucketHelper").isUploading(c),j=b("FBStoriesBucketHelper").getLatestThreadCreationTime(c),k=b("FBStoriesBucketHelper").getId(c);c=b("FBStoriesBucketHelper").getOwnerProfilePictureUri(c);e=e?a:b("emptyFunction");return b("React").createElement(b("FBStoriesTrayFullItem.react"),{key:k,bucketID:k,uploading:i,loading:this.props.loadingBucketID===k,onSelect:e},b("React").createElement(b("FBStoriesPog.react"),{cameraPostType:h,live:g,showLoadingAnim:i,highlighted:!i&&d,showBadge:!i&&f,profileImageUri:c,showBlueCross:this.props.showProduction,size:"small-48",borderOption:i?"hide":"show",ref:function(a){return this.$1=a}.bind(this)}),b("React").createElement(b("FBStoriesTrayItemTitle.react"),{verbose:!0,ownBucket:!0,lastUpdateTime:j}))};a.prototype.$5=function(){__p&&__p();return this.props.friendsData.map(function(a,c){__p&&__p();c=b("FBStoriesBucketHelper").getId(a);if(!c)return null;var d=b("FBStoriesBucketHelper").getCameraPostType(a),e=b("FBStoriesBucketHelper").getOwnerId(a),f=b("FBStoriesBucketHelper").getOwnerName(a,!0);if(!e||!f)return null;e=b("FBStoriesBucketHelper").isLive(a);var g=b("FBStoriesBucketHelper").getOwnerProfilePictureUri(a),h=b("FBStoriesBucketHelper").getThreads(a);h=h.filter(function(a){return!b("FBStoriesThreadHelper").isSeenByViewer(a)}).length>0;a=b("FBStoriesBucketHelper").getLatestThreadCreationTime(a);return b("React").createElement(b("FBStoriesTrayFullItem.react"),{key:c,bucketID:c,loading:this.props.loadingBucketID===c,onSelect:this.props.onItemSelect},b("React").createElement(b("FBStoriesPog.react"),{cameraPostType:d,live:e,showLoadingAnim:!1,highlighted:h,showBadge:!1,profileImageUri:g,size:"small-48",borderOption:"show"}),b("React").createElement(b("FBStoriesTrayItemTitle.react"),{verbose:!0,ownBucket:!1,actorName:f,lastUpdateTime:a}))}.bind(this))};a.defaultProps={onAddStoryItemSelect:b("emptyFunction"),onItemHover:b("emptyFunction"),onItemHoverOut:b("emptyFunction"),loadingBucketID:null,showProduction:!1,isSeeMoreMode:!1,isProductionDialogLoading:!1,yourStoryHereNUXEligible:!1};e.exports=a}),null);
__d("FBStoriesTrayContainer.react",["cx","Bootloader","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesProductionActions","FBStoriesStore","FBStoriesTray","FBStoriesTray.react","FBStoriesTrayConfig","FBStoriesTrayHeader.react","FBStoriesViewerEntrypoint","FBStoriesViewerHelper","FluxContainer","QuickPerformanceLogger","React","StoriesQuickLogModule","promiseDone","range"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={friendsData:[],userBucket:b("FBStoriesBucketHelper").getDefaultBucket(),userBucketHasUpdates:!1,userBucketHasNewViewers:!1,userBucketHasContent:!1,loading:!0,isProductionDialogLoading:!1,bucketIdBeingLoaded:null,userBucketIsLive:!1},this.$3=function(a){b("QuickPerformanceLogger").markerStart(b("StoriesQuickLogModule").STORY_VIEWER_LOAD_TTI_WWW),this.setState({bucketIdBeingLoaded:a}),b("Bootloader").loadModules(["FBStoriesActions","FBStoriesLoggingHelper"],function(c,d){c.userSelectedBucket(a)&&(b("promiseDone")(b("FBStoriesViewerHelper").toggleViewer(!0,b("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY),function(){return b("QuickPerformanceLogger").markerEnd(b("StoriesQuickLogModule").STORY_VIEWER_LOAD_TTI_WWW,"SUCCESS")}),d.storyLog(b("FBStoriesLoggingConstants").ACTION_OPEN_STORY,b("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD)),this.setState({bucketIdBeingLoaded:null})}.bind(this),"FBStoriesTrayContainer.react")}.bind(this),c}a.getStores=function(){return[b("FBStoriesStore")]};a.calculateState=function(a){return{friendsData:b("FBStoriesStore").getFriendsBucketData(),userBucket:b("FBStoriesStore").getUserBucketData(),userBucketHasUpdates:b("FBStoriesStore").hasOwnBucketUpdates(),userBucketHasNewViewers:b("FBStoriesStore").hasOwnBucketViewers(),userBucketHasContent:b("FBStoriesStore").hasOwnBucketContent(),loading:b("FBStoriesStore").isLoading(),isProductionDialogLoading:b("FBStoriesStore").isProductionDialogLoading(),bucketIdBeingLoaded:a?a.bucketIdBeingLoaded:null,userBucketIsLive:b("FBStoriesStore").userBucketIsLive()}};a.prototype.componentWillUnmount=function(){b("FBStoriesTray").resetOnExit()};a.prototype.render=function(){var a="_60kg";if(this.state.loading)return b("React").createElement("div",{className:a},b("React").createElement(b("FBStoriesTrayHeader.react"),null),b("React").createElement(i,null));return this.$1()&&!this.props.showProduction?b("React").createElement("div",{className:a}):b("React").createElement("div",{className:a},b("React").createElement(b("FBStoriesTrayHeader.react"),null),b("React").createElement(b("FBStoriesTray.react"),{atCenterColumn:this.props.atCenterColumn,isSeeMoreMode:this.props.isSeeMoreMode,showProduction:this.props.showProduction,friendsData:this.state.friendsData,userBucket:this.state.userBucket,userBucketHasContent:this.state.userBucketHasContent,userBucketHasNewViewers:this.state.userBucketHasNewViewers,userBucketHasUpdates:this.state.userBucketHasUpdates,loading:this.state.loading,isProductionDialogLoading:this.state.isProductionDialogLoading,loadingBucketID:this.state.bucketIdBeingLoaded,userBucketIsLive:this.state.userBucketIsLive,onAddStoryItemSelect:this.$2,onItemSelect:this.$3,yourStoryHereNUXEligible:b("FBStoriesTrayConfig").yourStoryHereNUXEligible}))};a.prototype.$2=function(){b("FBStoriesProductionActions").openProductionDialog()};a.prototype.$1=function(){var a=this.state,c=a.friendsData,d=a.userBucket;a=a.loading;d=!b("FBStoriesBucketHelper").hasData(d);c=!c||c.length===0;d=d&&c;return!a&&d};a.defaultProps={showProduction:!1,atCenterColumn:!1,isSeeMoreMode:!1};var i=function(a){a=function(a){return b("React").createElement("div",{className:"_19l4",key:a},b("React").createElement("div",{className:"_19la"},b("React").createElement("div",{className:"_19lc"})),b("React").createElement("div",{className:"_19ld"}),b("React").createElement("div",{className:"_19li"}),b("React").createElement("div",{className:"_19lj"}),b("React").createElement("div",{className:"_19lk"}),b("React").createElement("div",{className:"_19ll"}),b("React").createElement("div",{className:"_19lm"}),b("React").createElement("div",{className:"_19mw"}))};return b("React").createElement("div",{className:"_19m_"+(b("FBStoriesTrayConfig").trayLayout==="vertical_48"?" vertical_48":"")},b("React").createElement("div",{className:"_19n0"},b("range")(0,3).map(a)))};e.exports=b("FluxContainer").create(a)}),null);
__d("FBStoriesQPLUtils",["QuickPerformanceLogger","Run"],(function(a,b,c,d,e,f){"use strict";function g(a){a.navigationStart?b("QuickPerformanceLogger").markerStartFromNavStart(a.qplMarker):b("QuickPerformanceLogger").markerStart(a.qplMarker,0),b("Run").onUnload(function(){b("QuickPerformanceLogger").markerEnd(a.qplMarker,"CANCEL")})}a={start:function(a){g(a)},end:function(a){b("QuickPerformanceLogger").markerEnd(a.qplMarker,a.action?a.action:"SUCCESS")}};e.exports=a}),null);
__d("FBStoriesSettingsDialogTabType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARCHIVE_SETTINGS_TAB:"archive_settings_tab",MUTED_SETTINGS_TAB:"muted_settings_tab"})}),null);
__d("StoriesArchiveQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARCHIVE_GRID_TTI:22347781,PAGINATION_TTI:22347779,SCROLL_PERF:22347783,STORIES_VIEWER_TTI:22347777,THUMBNAIL_TTI:22347780,VIEWERS_LIST_TTI:22347778,ARCHIVE_GRID_TTI_WWW:22347782})}),null);
__d("FBStoriesTrayHeader.react",["ix","cx","fbt","CameraFileBugButton.react","ContextualLayerAutoFlip","CurrentUser","FBStoriesMutedBucketOwnersViewer","FBStoriesQPLUtils","FBStoriesSettingsDialogTabType","FBStoriesTrayConfig","Link.react","PopoverMenu.react","ProfileTabConst","React","ReactMenu","ReactXUIMenu","Image.react","StoriesArchiveQuickLogModule","TooltipLink.react","URI","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactMenu").Item;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=function(){b("FBStoriesMutedBucketOwnersViewer").getInstance().open(b("FBStoriesSettingsDialogTabType").MUTED_SETTINGS_TAB,this.$1)}.bind(this),c}a.prototype.render=function(){var a=[];a.push(b("React").createElement(k,{key:"muted_stories",onClick:this.$2},b("React").createElement(b("Image.react"),{src:g("113417")}),i._("Stories You've Muted")));a.push(b("CameraFileBugButton.react")());a=b("React").createElement(b("ReactXUIMenu"),{className:"_2sh1"},a);return b("React").createElement("div",{className:"_42rg"},b("React").createElement(b("TooltipLink.react"),{tooltip:i._("Stories are photos and videos that are visible for 24 hours. When someone adds to a story, it'll be shown here.")},b("React").createElement("span",{className:"_2ms2"},i._("Stories"))),b("FBStoriesTrayConfig").storyArchiveEnabled?this.renderArchiveLinks():b("React").createElement("div",{className:"_2sh5"},b("React").createElement(b("PopoverMenu.react"),{alignv:"bottom",alignh:"left","aria-label":i._("More"),layerBehaviors:[b("ContextualLayerAutoFlip")],menu:a,position:"below"},b("React").createElement(b("TooltipLink.react"),{href:"#",tooltip:i._("More")},b("React").createElement(b("Image.react"),{src:g("348130")})))))};a.prototype.renderArchiveLinks=function(){var a=new(b("URI"))("/"+b("CurrentUser").getID()).setQueryData({sk:b("ProfileTabConst").STORIES_ARCHIVE});return b("React").createElement("div",null,b("React").createElement(b("Link.react"),{href:a,onClick:function(){b("FBStoriesQPLUtils").start({qplMarker:b("StoriesArchiveQuickLogModule").ARCHIVE_GRID_TTI_WWW,navigationStart:!1})},className:"_2ec9"},b("React").createElement(b("Image.react"),{src:g("594822"),className:"_6adr"}),i._("Archive")),b("React").createElement("span",{className:"_3ft9"},"\xa0\xb7\xa0"),b("React").createElement(b("Link.react"),{onClick:this.$2,className:"_2ec9",linkRef:function(a){return this.$1=a}.bind(this),tabIndex:0},i._("Settings")))};e.exports=a}),null);
__d("FBStoriesCameraDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=new a({strict:!1})}),null);
__d("FBStoriesCameraActionTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SET_HAS_IMAGE:"SET_HAS_IMAGE",SET_HAS_MEDIASTREAM:"SET_HAS_MEDIASTREAM",SET_IMAGESOURCE:"SET_IMAGESOURCE",SET_IS_CAMERA_MEDIA_OPEN:"SET_IS_CAMERA_MEDIA_OPEN",SET_MEDIA_NODE:"SET_MEDIA_NODE",SET_MEDIASTREAM:"SET_MEDIASTREAM",SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS:"SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS",SET_PRIVACY_SETTINGS_MODE:"SET_PRIVACY_SETTINGS_MODE",SET_VIDEOSOURCE:"SET_VIDEOSOURCE"});e.exports=a}),null);
__d("fbStoriesCameraReducer",["FBStoriesCameraActionTypes","FBStoriesProductionTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("FBStoriesProductionTypes").FBStoriesCameraState;function a(a,c){__p&&__p();switch(c.type){case b("FBStoriesCameraActionTypes").SET_HAS_IMAGE:return a.set("hasImage",c.hasImage);case b("FBStoriesCameraActionTypes").SET_HAS_MEDIASTREAM:return a.set("hasMediaStream",c.hasMediaStream);case b("FBStoriesCameraActionTypes").SET_IMAGESOURCE:return a.set("imageSource",c.imageSource);case b("FBStoriesCameraActionTypes").SET_IS_CAMERA_MEDIA_OPEN:return a.set("isCameraMediaOpen",c.isCameraMediaOpen);case b("FBStoriesCameraActionTypes").SET_MEDIA_NODE:return a.set("mediaNode",c.mediaNode);case b("FBStoriesCameraActionTypes").SET_MEDIASTREAM:return a.set("mediaStream",c.mediaStream);case b("FBStoriesCameraActionTypes").SET_PRIVACY_SETTINGS_CUSTOM_PARTICIPANTS:return a.set("privacySettingsCustomParticipants",c.privacySettingsCustomParticipants);case b("FBStoriesCameraActionTypes").SET_PRIVACY_SETTINGS_MODE:return a.set("privacySettingsMode",c.privacySettingsMode);case b("FBStoriesCameraActionTypes").SET_VIDEOSOURCE:return a.set("videoSource",c.videoSource);default:return a}}e.exports=a}),null);
__d("FBStoriesCameraStore",["FBStoriesCameraDispatcher","FBStoriesProductionTypes","FluxReduceStore","fbStoriesCameraReducer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("FBStoriesProductionTypes").FBStoriesCameraState;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new h()};a.prototype.reduce=function(a,c){return b("fbStoriesCameraReducer")(a,c)};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("FBStoriesCameraDispatcher"))}),null);
__d("FBStoriesVisibilityHelper",["FBStoriesDataHelper","FBStoriesStore","Visibility","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=60;a={_visibilitySubscription:null,addListenerToReloadDataOnVisible:function(a){if(this._visibilitySubscription)return;a===undefined&&(a=this._defaultDataLoad.bind(this));this._visibilitySubscription=b("Visibility").addListener(b("Visibility").VISIBLE,b("throttle").withBlocking(function(){b("FBStoriesStore").isLoading()===!1&&b("FBStoriesStore").isViewerOpen()===!1&&(a!==undefined&&a())},g*1e3))},removeListener:function(){if(!this._visibilitySubscription)return;this._visibilitySubscription.remove();this._visibilitySubscription=null},_defaultDataLoad:function(){b("FBStoriesDataHelper").loadData()}};e.exports=a}),null);
__d("FBStoriesTrayInit",["csx","regeneratorRuntime","Promise","CSS","DOMQuery","FBStoriesActions","FBStoriesActionTypes","FBStoriesCameraStore","FBStoriesCenterColumnTrayContainer.react","FBStoriesDataHelper","FBStoriesDispatcher","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesPrefetcher","FBStoriesStore","FBStoriesTrayConfig","FBStoriesTrayContainer.react","FBStoriesViewerEntrypoint","FBStoriesViewerHelper","FBStoriesVisibilityHelper","React","ReactRenderer","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("FBStoriesLoggingConstants").INTERACTIONS;e.exports={_shouldLoadData:!1,_loadDataPromise:undefined,_reactTrayRendered:!1,_listenersInitialized:!1,loadData:function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:a===void 0&&(a=!1);(!this._loadDataPromise||a)&&(this._loadDataPromise=new(b("Promise"))(function(a,c){__p&&__p();var d,e,f,g,i,j;return b("regeneratorRuntime").async(function(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:b("FBStoriesLoggingHelper").logEventStart(h.DATA_LOADING);d=b("FBStoriesDispatcher").dispatch;d({type:b("FBStoriesActionTypes").LOADING});k.prev=3;k.next=6;return b("regeneratorRuntime").awrap(b("FBStoriesGraphQLAPI").load());case 6:e=k.sent;if(this._shouldLoadData){k.next=9;break}return k.abrupt("return");case 9:f=b("FBStoriesDataHelper").getBucketsDataFromLoadedObject(e);b("FBStoriesLoggingHelper").logStoryTrayLoad(f);d({type:b("FBStoriesActionTypes").LOADED,data:f});this._initTrayListeners();b("FBStoriesLoggingHelper").logEventEnd(h.DATA_LOADING);a(f);k.next=23;break;case 17:k.prev=17,k.t0=k["catch"](3),g=k.t0.errors,g&&g.length>0&&(i=g[0],b("FBStoriesDataHelper").hasData(k.t0.data)?(j=b("FBStoriesDataHelper").getBucketsDataFromLoadedObject(k.t0.data),b("FBStoriesDispatcher").dispatch({type:b("FBStoriesActionTypes").LOADED,data:j}),a(j)):(d({type:b("FBStoriesActionTypes").LOADED_ERROR,error:i}),c(i))),this._loadDataPromise=null,b("FBStoriesLoggingHelper").logEventEnd(h.DATA_LOADING);case 23:case"end":return k.stop()}},null,this,[[3,17]])}.bind(this)));return c.abrupt("return",this._loadDataPromise);case 3:case"end":return c.stop()}},null,this)},userSelectedBucket:function(a){return b("FBStoriesActions").userSelectedBucket(a)},registerStores:function(){b("FBStoriesDispatcher").explicitlyRegisterStores([b("FBStoriesStore"),b("FBStoriesCameraStore")])},openViewer:function(){b("FBStoriesLoggingHelper").logEventStart(h.VIEWER_OPEN);b("FBStoriesLoggingHelper").storyLog(b("FBStoriesLoggingConstants").ACTION_OPEN_STORY,b("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD);return b("FBStoriesViewerHelper").toggleViewer(!0,b("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY).then(function(){return b("FBStoriesLoggingHelper").logEventEnd(h.VIEWER_OPEN)})},isReactTrayRendered:function(){return this._reactTrayRendered},renderReactTray:function(){__p&&__p();if(this._reactTrayRendered)return;b("FBStoriesLoggingHelper").logEventStart(h.TRAY_RENDER);var a=b("FBStoriesTrayConfig").showProduction,c=b("FBStoriesTrayConfig").atCenterColumn;b("FBStoriesPrefetcher").prefetchForCurrentThreadAndBucket();if(c){var d=b("DOMQuery").scry(b("ge")("stories_pagelet_below_composer"),"._4-u2");if(!d||d.length===0)return;d=d[0];if(!d)return;b("ReactRenderer").renderComponent(b("React").createElement(b("FBStoriesCenterColumnTrayContainer.react"),null),d)}else{d=b("DOMQuery").scry(b("ge")("stories_pagelet_rhc"),"._4-u2");if(!d||d.length===0)return;d=d[0];if(!d)return;var e="._1fvt";e=e?b("DOMQuery").find(d,e):undefined;e=e?b("CSS").hasClass(e,"seeMore"):!1;b("ReactRenderer").renderComponent(b("React").createElement(b("FBStoriesTrayContainer.react"),{showProduction:a,atCenterColumn:c,isSeeMoreMode:e}),d)}b("FBStoriesLoggingHelper").logEventEnd(h.TRAY_RENDER);this._reactTrayRendered=!0},_initTrayListeners:function(){if(this._listenersInitialized)return;var a=b("FBStoriesDispatcher").dispatch,c=b("FBStoriesGraphQLAPI").subscribeToTrayChanges(function(c){this.renderReactTray();a({type:b("FBStoriesActionTypes").SUBSCRIPTION_BUCKET_UPDATE,bucketData:(c=c)!=null?(c=c.stories_tray_subscribe)!=null?c.bucket:c:c})}.bind(this));c&&a({type:b("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN,token:c});b("FBStoriesVisibilityHelper").addListenerToReloadDataOnVisible(function(){return this.loadData(!0)}.bind(this));this._listenersInitialized=!0},initializeOnEnter:function(){this._shouldLoadData=!0,this.registerStores()},resetOnExit:function(){this._shouldLoadData=!1;this._loadDataPromise=null;var a=b("FBStoriesStore").getState().subscriptionToken;a&&(b("FBStoriesGraphQLAPI").unsubscribeFromTrayChanges(a),b("FBStoriesDispatcher").dispatch({type:b("FBStoriesActionTypes").SET_SUBSCRIPTION_TOKEN,token:null}));b("FBStoriesActions").resetStore();b("FBStoriesVisibilityHelper").removeListener();this._listenersInitialized=!1;this._reactTrayRendered=!1}}}),null);
__d("FBStoriesArchiveSettingsDialogTab.react",["cx","fbt","CurrentUser","FBStoriesGraphQLAPI","React","StoryArchiveAutoSavingMode","XUIButton.react","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="archive-state-unknown";c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={archiveState:j,isMutating:!0},b}a.prototype.componentDidMount=function(){b("promiseDone")(b("FBStoriesGraphQLAPI").loadStoriesArchiveSavingMode(),function(a){a=((a=a)!=null?(a=a.viewer)!=null?(a=a.unified_stories_setting)!=null?a.story_archive_saving_mode:a:a:a)||j;this.setState({archiveState:a,isMutating:!1})}.bind(this),null)};a.prototype.render=function(){var a=h._("Turn On Story Archive"),c=h._("Turn Off Story Archive");return b("React").createElement("div",{className:"_6ap-"},b("React").createElement("div",{className:"_6ap_"},h._("Save to archive")),b("React").createElement("div",{className:"_6aq0"},b("React").createElement("div",{className:"_6aq1"},h._("Automatically archive photos and videos after they've disappeared from your story. Only you can see your story archive.")),b("React").createElement(b("XUIButton.react"),{className:"_6aq2",disabled:this.state.isMutating,label:this.state.archiveState===b("StoryArchiveAutoSavingMode").DISABLED?a:c,onClick:function(){var a=this.state.archiveState===b("StoryArchiveAutoSavingMode").DISABLED?b("StoryArchiveAutoSavingMode").ENABLED:b("StoryArchiveAutoSavingMode").DISABLED;this.setState({isMutating:!0});b("promiseDone")(b("FBStoriesGraphQLAPI").updateArchiveSavingMode(b("CurrentUser").getID(),a),function(b){this.setState({archiveState:a,isMutating:!1})}.bind(this),null)}.bind(this)})))};e.exports=a}),null);
__d("FBStoriesMutedBucketOwner.react",["cx","fbt","Image.react","ProfileLink.react","React","XUIButton.react","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=h._("Mute"),c=h._("Unmute");return b("React").createElement("div",{className:"_33zl"},b("React").createElement(b("ProfileLink.react"),{uid:this.props.id,target:"_blank"},b("React").createElement(b("Image.react"),{src:this.props.profilePictureUri,className:"_33zr"})),b("React").createElement("span",{className:"_33zo"},b("React").createElement(b("ProfileLink.react"),{uid:this.props.id,target:"_blank"},this.props.name)),b("React").createElement("span",{className:"_33zn"},this.props.mutingInProgress?b("React").createElement(b("XUISpinner.react"),{size:"large"}):b("React").createElement(b("XUIButton.react"),{label:this.props.isMuted?c:a,onClick:function(){this.props.onMuteChanged(this.props.id,this.props.name,this.props.profilePictureUri,!this.props.isMuted)}.bind(this)})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesMutedBucketOwners.react",["cx","fbt","FBStoriesMutedBucketOwner.react","FBStoriesMutedBucketOwnerHelper","FBStoriesMutedBucketOwnersActions","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.mutedBucketOwners.length===0?b("React").createElement("div",{className:"_33zk"},h._("You haven't muted any stories yet. Once you do, they'll appear here.")):this.props.mutedBucketOwners.map(function(a){var c=b("FBStoriesMutedBucketOwnerHelper").getId(a),d=this.props.currentlyMutingBucketOwners.indexOf(c)!==-1,e=b("FBStoriesMutedBucketOwnerHelper").getMuted(a);return b("React").createElement(b("FBStoriesMutedBucketOwner.react"),{key:c,id:c,name:b("FBStoriesMutedBucketOwnerHelper").getName(a),profilePictureUri:b("FBStoriesMutedBucketOwnerHelper").getProfilePictureUri(a),isMuted:e,mutingInProgress:d,onMuteChanged:b("FBStoriesMutedBucketOwnersActions").setBucketOwnerMuted})}.bind(this));return b("React").createElement(b("ScrollableArea.react"),{maxHeight:this.props.maxHeight,width:this.props.width},b("React").createElement("div",{className:"_33zj"},a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesSettingsDialog.react",["ix","cx","fbt","FBStoriesArchiveSettingsDialogTab.react","FBStoriesMutedBucketOwners.react","FBStoriesSettingsDialogTabType","FBStoriesTrayConfig","Image.react","LayerRemoveOnHide","LoadingDialog.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=501,l=149,m=310;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={showLoadingDialogWhileMuting:!1,selectedTab:b("FBStoriesSettingsDialogTabType").MUTED_SETTINGS_TAB},this.$2=function(){this.$1()&&this.props.onClose()}.bind(this),this.$3=function(a){this.setState({selectedTab:a})}.bind(this),c}a.prototype.componentDidMount=function(){this.setState({showLoadingDialogWhileMuting:this.props.isCurrentlyMutingBucketOwners,selectedTab:this.props.selectedTab})};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.showLoadingDialogWhileMuting&&this.props.isCurrentlyMutingBucketOwners&&!a.isCurrentlyMutingBucketOwners&&this.setState({showLoadingDialogWhileMuting:!1})};a.prototype.$1=function(){return this.props.isLoading||this.state.showLoadingDialogWhileMuting&&this.props.isCurrentlyMutingBucketOwners};a.prototype.render=function(){var a=b("React").createElement("div",{className:this.state.selectedTab!==b("FBStoriesSettingsDialogTabType").MUTED_SETTINGS_TAB?"hidden_elem":""},b("React").createElement(b("FBStoriesMutedBucketOwners.react"),{maxHeight:m,width:k,mutedBucketOwners:this.props.mutedBucketOwners,currentlyMutingBucketOwners:this.props.currentlyMutingBucketOwners})),c=b("React").createElement("div",{className:this.state.selectedTab!==b("FBStoriesSettingsDialogTabType").ARCHIVE_SETTINGS_TAB?"hidden_elem":""},b("React").createElement(b("FBStoriesArchiveSettingsDialogTab.react"),null)),d=b("React").createElement(b("XUIDialogHeaderTitle.react"),{key:b("FBStoriesSettingsDialogTabType").ARCHIVE_SETTINGS_TAB,style:b("FBStoriesTrayConfig").storyArchiveEnabled?{}:{display:"none"}},b("React").createElement("span",null,b("React").createElement(b("Image.react"),{src:g("583215"),className:"_6apz"}),i._("Story archive settings"))),e=b("React").createElement(b("XUIDialogHeaderTitle.react"),{key:b("FBStoriesSettingsDialogTabType").MUTED_SETTINGS_TAB},b("React").createElement(b("Image.react"),{src:g("577042"),className:"_6apz"}),i._("Stories you've muted"));return this.$1()?b("React").createElement(b("LoadingDialog.react"),{onToggle:this.$2}):b("React").createElement(b("XUIDialog.react"),{label:"Stories Tray Settings",width:k,height:l,shown:!0,onToggle:this.props.onClose,behaviors:{LayerRemoveOnHide:b("LayerRemoveOnHide")}},b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.selectedTab,onTabClick:this.$3},d,e),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},a,c))};e.exports=a}),null);
__d("FBStoriesMutedBucketOwnersDialogContainer.react",["regeneratorRuntime","FBStoriesMutedBucketOwnersStore","FBStoriesSettingsDialog.react","FBStoriesTrayInit","FluxContainer","React","fbStoriesMutedBucketOwnersSelectors","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$2=[],b}a.getStores=function(){return[b("FBStoriesMutedBucketOwnersStore")]};a.calculateState=function(a){a=b("FBStoriesMutedBucketOwnersStore").getState();return{mutedBucketOwners:b("fbStoriesMutedBucketOwnersSelectors").getMutedBucketOwners(a),currentlyMutingBucketOwners:b("fbStoriesMutedBucketOwnersSelectors").getCurrentlyMutingBucketOwners(a),isLoading:b("fbStoriesMutedBucketOwnersSelectors").isLoading(a),isCurrentlyMutingBucketOwners:b("fbStoriesMutedBucketOwnersSelectors").isCurrentlyMutingBucketOwners(a)}};a.prototype.UNSAFE_componentWillUpdate=function(a,b){this.$1||(this.$2=this.$3(b),this.$1=!0)};a.prototype.componentWillUnmount=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(b("shallowArrayEqual")(this.$2,this.$3(this.state))){a.next=4;break}a.next=3;return b("regeneratorRuntime").awrap(b("FBStoriesTrayInit").loadData(!0));case 3:b("FBStoriesTrayInit").renderReactTray();case 4:case"end":return a.stop()}},null,this)};a.prototype.$3=function(a){return a.mutedBucketOwners.map(function(a){return a.muted})};a.prototype.render=function(){return b("React").createElement(b("FBStoriesSettingsDialog.react"),{onClose:this.props.onClose,selectedTab:this.props.selectedTab,mutedBucketOwners:this.state.mutedBucketOwners,currentlyMutingBucketOwners:this.state.currentlyMutingBucketOwners,isLoading:this.state.isLoading,isCurrentlyMutingBucketOwners:this.state.isCurrentlyMutingBucketOwners})};e.exports=b("FluxContainer").create(a)}),null);
__d("FBStoriesMutedBucketOwnersViewer",["DOM","FBStoriesMutedBucketOwnersActions","FBStoriesMutedBucketOwnersDialogContainer.react","FBStoriesMutedBucketOwnersStore","FBStoriesSettingsDialogTabType","Focus","React","ReactDOM","fbStoriesMutedBucketOwnersSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="fb_stories_muted_bucket_owners";h.openInstance=function(a,c){h.getInstance().open(a?a:b("FBStoriesSettingsDialogTabType").MUTED_SETTINGS_TAB,c)};h.getInstance=function(){this.$3||(h.$3=new h());return h.$3};function h(){this.$1=b("DOM").create("div",{id:g}),document.body&&document.body.appendChild(this.$1)}h.prototype.open=function(a,c){b("fbStoriesMutedBucketOwnersSelectors").canReload(b("FBStoriesMutedBucketOwnersStore").getState())&&b("FBStoriesMutedBucketOwnersActions").loadMutedOwners(),b("ReactDOM").render(b("React").createElement(b("FBStoriesMutedBucketOwnersDialogContainer.react"),{onClose:function(){this.close(c)}.bind(this),selectedTab:a}),this.$1)};h.prototype.close=function(a){b("ReactDOM").unmountComponentAtNode(this.$1),b("Focus").set(a)};e.exports=h}),null);
__d("FBStoriesPreviewPog.react",["ix","cx","fbt","CameraPostTypesHelper","Image.react","React","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a=!!this.props.profileImageUri,c=!!this.props.previewImageUri,d=c?b("React").createElement(b("Image.react"),{src:this.props.previewImageUri,className:"_26w6"}):null;a=a?b("React").createElement(b("Image.react"),{src:this.props.profileImageUri,className:"_1hw0"}):null;var e=this.$1(),f="_26w4"+(this.props.highlighted?" _26w9":"")+(this.props.live?" _26wp":"")+(c?" _26wu":"")+(this.props.size==="small"?" size-small":"")+(this.props.borderOption==="hide-and-expand"?" no-border":"")+(this.props.borderOption==="hide"?" hide-border":""),h=this.props.showBadge?b("React").createElement("div",{className:"_26wv"}):null,j=this.props.live?b("React").createElement("div",{className:"_26wx"},b("React").createElement(b("Image.react"),{alt:i._("LIVE"),src:g("404364")})):null;return b("React").createElement("div",{className:f},d,h,e,b("React").createElement(b("XUISpinner.react"),{size:"large",background:c?"light":"dark",className:"_26ww"}),j,a)};a.prototype.$1=function(){var a=b("CameraPostTypesHelper").isEventStory(this.props.cameraPostType),c=b("CameraPostTypesHelper").isGroupStory(this.props.cameraPostType);return!a&&!c?null:b("React").createElement("div",{className:"_26ws"},b("React").createElement("div",{className:(a?"_26wz":"")+(c?" _26w-":"")}))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesTrayInlineAddItem.react",["cx","fbt","FBStoriesPlusPog.react","FBStoriesPog.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c;a.profileImageUri?c=b("React").createElement(b("FBStoriesPog.react"),{profileImageUri:a.profileImageUri,borderOption:"hide"}):c=b("React").createElement(b("FBStoriesPlusPog.react"),null);return b("React").createElement("div",{tabIndex:"0",role:"button",className:"_46z0"+(a.loading?" loading":"")+(a.profileImageUri?" _nc3":""),onKeyPress:a.loading&&a.onClick,onClick:a.loading&&a.onClick},c,b("React").createElement("div",{className:"_mx9 _mxa"},b("React").createElement("div",{className:"_mxb"},b("React").createElement("span",{className:"_nbt"},h._("Add")))))}e.exports=a}),null);
__d("FBStoriesTrayInlineItem.react",["cx","fbt","FBStoriesTrayUploadingAnimation.react","IntlVariations","React","ShimButton.react","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=function(){!this.props.disabled&&!this.props.loading&&this.props.onSelect(this.props.bucketID)}.bind(this),b}a.prototype.render=function(){if(!this.props.bucketID)return null;var a=b("IntlVariations").GENDER_UNKNOWN;this.props.actorGender==="MALE"?a=b("IntlVariations").GENDER_MALE:this.props.actorGender==="FEMALE"&&(a=b("IntlVariations").GENDER_FEMALE);a=this.props.ownBucket?h._("Watch your story"):h._({"*":"Watch {actor name}'s story"},[h._param("actor name",this.props.actorName,[1,a])]);var c=this.props.uploading,d=this.props.ownBucket||this.props.actorName,e=c&&b("React").createElement(b("FBStoriesTrayUploadingAnimation.react"),null);return b("React").createElement(b("ShimButton.react"),{tabIndex:"0",className:"_46z0"+(c?" own-bucket-uploading":""),onClick:this.$1,onKeyPress:this.$1},b("React").createElement("div",{className:"_46z1"},d?b("React").createElement(b("Tooltip.react"),{tooltip:a,alignH:"center",className:"_46z2"},e,this.props.children):b("React").createElement(b("React").Fragment,null,e,this.props.children)))};a.defaultProps={disabled:!1,loading:!1,uploading:!0};e.exports=a}),null);
__d("ScrollLeftHelper",["Locale","UserAgent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={NEGATIVE:"negative",REVERSE:"reverse",NORMAL:"normal"},h=function(){if(b("UserAgent").isBrowser("Chrome"))return g.NORMAL;if(b("UserAgent").isBrowser("Firefox")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Safari"))return g.NEGATIVE;return b("UserAgent").isBrowser("IE")||b("UserAgent").isBrowser("Edge")?g.REVERSE:g.NORMAL},i=function(a,c,d){if(!b("Locale").isRTL())return 0;switch(h()){case g.NEGATIVE:case g.REVERSE:return d;case g.NORMAL:default:return c-a}},j=function(a,c,d){if(a===c)return i(a,c,d);if(!b("Locale").isRTL())return c-a-d;switch(h()){case g.NEGATIVE:return a-c+d;case g.REVERSE:return c-a+d;case g.NORMAL:default:return d}};e.exports={getInitialPosition:i,getNextScrollLeftGivenPageSize:function(a,c,d,e,f,k,l){var m=j(d,e,f);d=i(d,e,f);e=h();var n;!b("Locale").isRTL()?(f=l?Math.min(a+c,m):Math.max(a-c,d),n=l?m-(a+c):a-c):e===g.NEGATIVE?(f=l?Math.max(a-c,m):Math.min(a+c,d),n=l?Math.abs(m-f):Math.abs(f)):e===g.REVERSE?(f=l?Math.min(a+c,m):Math.max(a-c,d),n=l?m-f:f):(f=l?Math.max(a-c,m):Math.min(a+c,d),n=l?f:d-f);return n<k?l?m:d:f},isAtRightMostPosition:function(a,c,d,e){return!b("Locale").isRTL()?a===j(c,d,e):a===i(c,d,e)},isAtLeftMostPosition:function(a,c,d,e){return!b("Locale").isRTL()?a===0:a===j(c,d,e)}}}),null);
__d("HorizontalScroll.react",["ix","cx","fbt","Animation","Ease","Image.react","Locale","React","ScrollLeftHelper","UserAgent","XUIButton.react","asset","compactArray","emptyFunction","range"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=400;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.defaultProps={placeholderFactory:b("emptyFunction")},this.state={itemCount:0,offsetWidth:0,scrolling:!1,scrollLeft:0,scrollWidth:0,viewportItemsCount:0},this.$5=function(){!this.state.scrolling&&this.$1&&this.setState({scrollLeft:this.$1.scrollLeft})}.bind(this),this.$2=function(){var a=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),c=b("Locale").isRTL();a=b("ScrollLeftHelper").getNextScrollLeftGivenPageSize(this.state.scrollLeft,a,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth,this.props.itemWidth,c);this.setState({scrollLeft:a})}.bind(this),this.$3=function(){var a=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth),c=!b("Locale").isRTL();a=b("ScrollLeftHelper").getNextScrollLeftGivenPageSize(this.state.scrollLeft,a,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth,this.props.itemWidth,c);this.setState({scrollLeft:a})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.props.itemMarginWidth,c=this.props.itemWidth,d=this.$1.offsetWidth,e=this.$1.scrollWidth,f=b("ScrollLeftHelper").getInitialPosition(d,e,a);this.$1.scrollLeft=f;var g=0;c<=d&&(g=1+Math.floor((d-c)/(c+a)));this.setState({offsetWidth:d,scrollLeft:f,scrollWidth:e,viewportItemsCount:g})};a.prototype.componentDidUpdate=function(a,c){__p&&__p();if(this.$1){c.scrollLeft!==this.state.scrollLeft&&(this.$4&&this.$4.stop(),this.state.scrolling||this.setState({scrolling:!0}),this.$4=new(b("Animation"))(this.$1).duration(k).ease(b("Ease").circOut).ondone(function(){this.$4=null,this.setState({scrolling:!1})}.bind(this)).to("scrollLeft",this.state.scrollLeft).go());if(c.itemCount&&c.itemCount!==this.state.itemCount){a=this.$1.scrollLeft;c=this.$1.scrollWidth;var d=this.$1.offsetWidth,e=this.state.viewportItemsCount*(this.props.itemWidth+this.props.itemMarginWidth);a=Math.floor(a/e)*e;e=b("ScrollLeftHelper").getNextScrollLeftGivenPageSize(b("ScrollLeftHelper").getInitialPosition(d,c,this.props.itemMarginWidth),a,d,c,this.props.itemMarginWidth,this.props.itemWidth,!0);this.setState({scrollLeft:e,scrollWidth:c,offsetWidth:d})}}};a.prototype.UNSAFE_componentWillUpdate=function(a,c){c=a.children?b("compactArray")(b("React").Children.toArray(a.children)):[];a=c.length;a!=this.state.itemCount&&this.setState({itemCount:a})};a.prototype.render=function(){var a=b("ScrollLeftHelper").isAtLeftMostPosition(this.state.scrollLeft,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth),c=b("ScrollLeftHelper").isAtRightMostPosition(this.state.scrollLeft,this.state.offsetWidth,this.state.scrollWidth,this.props.itemMarginWidth),d=b("React").createElement(b("XUIButton.react"),{"aria-label":i._("See more results from the left"),className:"_1rk2 _6107","data-testid":"horizontalScroll/leftArrow",href:{url:"#"},image:b("React").createElement(b("Image.react"),{src:g("374382")}),label:"With a Hidden Label",labelIsHidden:!0,onClick:this.$2}),e=b("React").createElement(b("XUIButton.react"),{"aria-label":i._("See more results from the right"),className:"_1rkd _6107","data-testid":"horizontalScroll/rightArrow",href:{url:"#"},image:b("React").createElement(b("Image.react"),{src:g("374391")}),label:"With a Hidden Label",labelIsHidden:!0,onClick:this.$3});return b("React").createElement("div",{className:"_lmj"+(this.state.viewportItemsCount===4?" _1iug":"")+(b("UserAgent").isBrowser("Chrome")&&this.state.scrolling?" _3_9y":""),onScroll:this.$5,ref:function(a){return this.$1=a}.bind(this)},this.props.children,this.$6(),!a&&d,b("React").createElement("span",null),!c&&e)};a.prototype.$6=function(){var a=Math.max(0,this.state.viewportItemsCount-this.state.itemCount);return b("range")(0,a).map(this.props.placeholderFactory)};e.exports=a}),null);
__d("FBStoriesHorizontalTray.react",["cx","FBStoriesPog.react","FBStoriesPreviewPog.react","FBStoriesTrayConfig","FBStoriesTrayInlineAddItem.react","FBStoriesTrayInlineItem.react","FBStoriesTrayItemTitle.react","FBStoriesTrayShimmerLoader.react","HorizontalScroll.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=74,j=6;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(this.props.loading)return b("React").createElement("div",{className:"_100f"},b("React").createElement(b("FBStoriesTrayShimmerLoader.react"),{layout:"horizontal"}));var a=[];b("FBStoriesTrayConfig").showProduction&&a.push(this.$1());a=a.concat(this.$2());return b("React").createElement("div",{className:"_100f"},b("React").createElement(b("HorizontalScroll.react"),{itemWidth:i,itemMarginWidth:j,placeholderFactory:this.$3},a))};a.prototype.$2=function(){var a=b("FBStoriesTrayConfig").showPreviews;return this.props.buckets.map(function(c,d){var e=c.bucketID,f=c.isLive,g=c.hasNewViewers,h=c.cameraPostType,i=c.profileImageUri,j=c.previewImageUri,k=c.actorShortName,l=c.actorName,m=c.actorGender,n=c.ownedByViewer,o=this.props.uploading&&n;g=g;c=g||c.hasUnseenThreads&&!f;g=a?b("React").createElement(b("FBStoriesPreviewPog.react"),{cameraPostType:h,live:f,highlighted:c,showBadge:g,profileImageUri:i,previewImageUri:j,borderOption:n&&o?"hide":"show"}):b("React").createElement(b("FBStoriesPog.react"),{cameraPostType:h,live:f,highlighted:c&&!o,profileImageUri:i,borderOption:n&&o?"hide":"show"});return b("React").createElement(b("FBStoriesTrayInlineItem.react"),{key:d,bucketID:e,loading:this.props.loadingBucketID===e,uploading:o,onSelect:this.props.onItemSelect,actorName:l,actorGender:m,ownBucket:n},g,b("React").createElement(b("FBStoriesTrayItemTitle.react"),{ownBucket:n,actorName:k}))}.bind(this))};a.prototype.$3=function(a){return b("React").createElement("div",{key:"ph_"+a,className:"_46z0"},b("React").createElement("div",{className:"__bd"}))};a.prototype.$1=function(){var a;a=(a=this.props.userInfo.userProfilePic)!=null?a.uri:a;return b("React").createElement(b("FBStoriesTrayInlineAddItem.react"),{loading:this.props.isProductionDialogLoading,profileImageUri:b("FBStoriesTrayConfig").showPreviews?a:null,key:"production",onClick:this.props.onAddStoryItemSelect})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("FBStoriesCenterColumnTrayContainer.react",["cx","FBStoriesActions","FBStoriesHorizontalTray.react","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesProductionActions","FBStoriesStore","FBStoriesTrayHeader.react","FBStoriesViewerEntrypoint","FBStoriesViewerHelper","FluxContainer","React","fbStoriesRootSelectors","fbStoriesStateSelectors"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(a){this.setState({bucketIdBeingLoaded:a}),b("FBStoriesActions").userSelectedBucket(a)&&(b("FBStoriesViewerHelper").toggleViewer(!0,b("FBStoriesViewerEntrypoint").HOMEPAGE_TRAY),b("FBStoriesLoggingHelper").storyLog(b("FBStoriesLoggingConstants").ACTION_OPEN_STORY,b("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_STORY_HEAD)),this.setState({bucketIdBeingLoaded:null})}.bind(this),c}a.getStores=function(){return[b("FBStoriesStore")]};a.calculateState=function(a){var c=b("FBStoriesStore").getState();return{bucketDescriptors:b("fbStoriesRootSelectors").bucketDescriptors(c),isProductionDialogLoading:b("fbStoriesStateSelectors").isProductionDialogLoading(c),loading:b("fbStoriesRootSelectors").loading(c),uploading:b("fbStoriesRootSelectors").uploading(c),bucketIdBeingLoaded:a?a.bucketIdBeingLoaded:null,userInfo:b("fbStoriesRootSelectors").userInfo(c)}};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FBStoriesTrayHeader.react"),null),b("React").createElement("div",{className:"_nyb"},this.$1()))};a.prototype.$1=function(){var a={buckets:this.state.bucketDescriptors,isProductionDialogLoading:this.state.isProductionDialogLoading,loading:this.state.loading,loadingBucketID:this.state.bucketIdBeingLoaded,onItemSelect:this.$2,uploading:this.state.uploading,onAddStoryItemSelect:this.$3,userInfo:this.state.userInfo};return b("React").createElement(b("FBStoriesHorizontalTray.react"),a)};a.prototype.$3=function(){b("FBStoriesProductionActions").openProductionDialog()};e.exports=b("FluxContainer").create(a)}),null);
__d("ConditionClassOnVisible",["CSS","Run","intersectionObserverEntryIsIntersecting","observeIntersection"],(function(a,b,c,d,e,f){"use strict";a={track:function(a,c,d){var e=b("observeIntersection")(a,function(a){b("CSS").conditionClass(a.target,c,d===b("intersectionObserverEntryIsIntersecting")(a))});b("Run").onLeave(function(){e.remove()})}};e.exports=a}),null);
__d("XGamesReplaceableXOutAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/games/async/xout/replace/",{unit_type:{type:"String"},fbs:{type:"Int"},app_id:{type:"Int"},extra_data:{type:"String"},query_type:{type:"String"},query_params:{type:"String"},excluded_app_ids:{type:"StringVector",defaultValue:[]},attributes:{type:"String"}})}),null);
__d("GamesReplaceableXOutHelper",["invariant","Parent","XGamesReplaceableXOutAsyncController"],(function(a,b,c,d,e,f,g){__p&&__p();var h="data-games-xout-container",i=0,j={},k={};function l(a){a=b("Parent").byAttribute(a,h);if(a){var c=parseInt(a.getAttribute(h),10);c===0&&(i+=1,c=i.toString(),a.setAttribute(h,c));return c}}function m(a){a=l(a);a||g(0,undefined);return a}function n(a){a=j[m(a)];return a?Object.keys(a):[]}function a(a,b){return o(a,[b])}function o(a,b){a=l(a);if(a){a=j[a]=j[a]||{};for(var c=0;c<b.length;c+=1)a[b[c]]=!0}}function c(a){a=m(a);a&&(delete j[a],delete k[a])}function d(a,c){return b("XGamesReplaceableXOutAsyncController").getURIBuilder().setInt("app_id",c.appID).setString("extra_data",c.extraData).setString("attributes",c.attributes).setString("query_type",a.getAttribute("data-games-xout-query-type")).setString("query_params",a.getAttribute("data-games-xout-query-params")).setString("unit_type",c.unitType).setInt("fbs",a.getAttribute("data-games-xout-fbs")).setStringVector("excluded_app_ids",n(a)).getURI()}function f(a,b){a=l(a);if(!a)return;a=k[a]=k[a]||[];a.length===0&&b();a.push(b)}function p(a){a=m(a);a=k[a];a&&(a.shift(),a.length>0&&a[0]())}a={getBoundAppIDs:n,registerAppID:a,registerAppIDs:o,deleteContainer:c,queueRequest:f,processQueuedRequests:p,createURI:d};e.exports=a}),null);
__d("GamesReplaceableXOutListener",["csx","cx","AsyncRequest","CSS","DOM","Event","GamesReplaceableXOutHelper","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={};function j(a,c,d){d=d.payload;if(!d)return;b("GamesReplaceableXOutHelper").registerAppID(a,d.app_id);b("GamesReplaceableXOutHelper").processQueuedRequests(c);i[d.app_id]=d.item_data;b("DOM").replace(c,d.el)}function k(a){return b("Event").listen(a,"click",function(c){c=c.target;if(!b("CSS").matchesSelector(c,"._1m6e"))return;var d=b("Parent").bySelector(c,"._2b2u"),e=c.getAttribute("data-appid"),f=i[e];b("CSS").addClass(d,"_4ksu");b("GamesReplaceableXOutHelper").queueRequest(d,function(){new(b("AsyncRequest"))(b("GamesReplaceableXOutHelper").createURI(a,f)).setHandler(function(b){return j(a,d,b)}).setMethod("POST").send(),delete i[e]})})}a={registerContainerItems:function(a,c,d){b("GamesReplaceableXOutHelper").registerAppIDs(a,c),d.forEach(function(c){var d=c.appID;i[d]=c;b("GamesReplaceableXOutHelper").registerAppID(a,d)}),k(a,c)}};e.exports=a}),null);
__d("XGroupsRHCSuggestionXoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/xout_suggested_group/",{id:{type:"Int",required:!0}})}),null);
__d("GroupSuggestionXoutHandler",["csx","Arbiter","AsyncRequest","CSS","DOM","Event","XGroupsRHCSuggestionXoutController","XRapidReportingDialogController","$"],(function(a,b,c,d,e,f,g){__p&&__p();var h={onclick:function(a,c,d,e,f){b("Event").listen(a,"click",function(){h.hideItem(c,d,e,f)})},hideItem:function(a,c,d,e){__p&&__p();var f=b("XGroupsRHCSuggestionXoutController").getURIBuilder().setInt("id",a).getURI();new(b("AsyncRequest"))().setURI(f).send();f=b("$")(""+c);if(f!==null){var g=f.parentElement;b("DOM").remove(f);b("DOM").remove(g);b("Arbiter").inform("x-out-ego-suggestions",{card_id:c})}if(d==="group_mall_rhc"){f=b("$")("div._1spx");if(f===null){g=b("$")("GroupsRHCSuggestionSection");g!==null&&b("DOM").remove(g)}}e&&h.openReportingFlow(a,c,d)},openReportingFlow:function(a,c,d){var e=JSON.stringify({reportable_ent_token:a.toString(),entry_point:d});e=b("XRapidReportingDialogController").getURIBuilder().setString("context",e).getURI();new(b("AsyncRequest"))().setURI(e).send();h.hideItem(a,c,d,!1)},hide:function(a,c){b("Event").listen(c,"mouseover",function(){b("CSS").show(a)}),b("Event").listen(c,"mouseleave",function(){b("CSS").hide(a)})}};e.exports=h}),null);
__d("Barrier",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";__p&&__p();if(a===undefined||a<0||b===undefined){!1;return null}if(a==0){b();return}this.ops_num=a;this.callback=b}a.prototype.notify=function(){"use strict";if(this.ops_num<=0){!1;return}this.ops_num--;this.ops_num==0&&this.callback()};e.exports=a}),null);
__d("LitestandStreamTailStoryPlaceholderVisibilityTracker",["PageletEventConstsJS","PageletEventsHelper","onRectIsWithinViewport","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h=null,i=null,j=!1,k={};a={setPlaceholderElement:function(a){j||(b("PageletEventsHelper").subscribeToPageletEvents(l),j=!0),g=a,h&&h.remove(),h=b("onRectIsWithinViewport")(function(){return a.getBoundingClientRect()},function(a){!i&&a&&(i=b("performanceAbsoluteNow")())})},getStoryPlaceholderVisibleDuration:function(a){return k[a]||0}};function l(a,c){__p&&__p();if(a.startsWith("hyperfeed_story")&&c===b("PageletEventConstsJS").DISPLAY_END){c=b("performanceAbsoluteNow")();k[a]=i?c-i:0;if(g){a=g.getBoundingClientRect().top;a=a-window.scrollTop;i=a<window.innerHeight&&a>0?c:null}else i=null}}e.exports=a}),null);
__d("ODSJSErrorLogger",["BanzaiODS","ErrorUtils"],(function(a,b,c,d,e,f){var g=!1;a={init:function(a){if(g)return;g=!0;b("ErrorUtils").addListener(function(){b("BanzaiODS").bumpEntityKey("web_speed.jserror","hrm."+a)})}};e.exports=a}),null);
__d("NewsFeedTailloadPlaceholderTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:NewsFeedTailloadPlaceholderLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setDisplayDone=function(a){this.$1.display_done=a;return this};a.prototype.setTailLoadPosition=function(a){this.$1.tail_load_position=a;return this};a.prototype.setTailLoadStatus=function(a){this.$1.tail_load_status=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVisibleDuration=function(a){this.$1.visible_duration=a;return this};c={display_done:!0,tail_load_position:!0,tail_load_status:!0,vc:!0,visible_duration:!0};e.exports=a}),null);
__d("AccessibilityLogger",["AsyncSignal","Cookie"],(function(a,b,c,d,e,f){__p&&__p();var g={COOKIE:"a11y",DECAY_MS:6*60*60*1e3,DEFAULT:{sr:0,"sr-ts":Date.now(),jk:0,"jk-ts":Date.now(),kb:0,"kb-ts":Date.now(),hcm:0,"hcm-ts":Date.now()},getCookie:function(){var a=g.DEFAULT,c=b("Cookie").get(g.COOKIE);if(c){c=JSON.parse(c);for(var d in a)d in c&&(a[d]=c[d])}return a},logKey:function(a,c){var d=g.getCookie();d[a]++;var e=Date.now();e-d[a+"-ts"]>g.DECAY_MS&&(new(b("AsyncSignal"))("/ajax/accessibilitylogging",{eventName:c,times_pressed:d[a]}).send(),d[a+"-ts"]=e,d[a]=0);b("Cookie").set(g.COOKIE,JSON.stringify(d))},logHCM:function(){g.logKey("hcm","hcm_users")},logSRKey:function(){g.logKey("sr","sr_users")},logJKKey:function(){g.logKey("jk","jk_users")},logFocusIn:function(){g.logKey("kb","kb_users")}};e.exports=g}),null);
__d("ClickRefUtils",["DataAttributeUtils"],(function(a,b,c,d,e,f){__p&&__p();var g={get_intern_ref:function(a){__p&&__p();if(a){var b={profile_minifeed:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,searchBarClickRef:1};for(var a=a;a&&a!=document.body;a=a.parentNode){if(!a.id||typeof a.id!=="string")continue;if(a.id.substr(0,8)=="pagelet_")return a.id.substr(8);if(a.id.substr(0,8)=="box_app_")return a.id;if(b[a.id])return a.id}}return"-"},get_href:function(a){a=a.getAttribute&&(a.getAttribute("ajaxify")||a.getAttribute("data-endpoint"))||a.action||a.href||a.name;return typeof a==="string"?a:null},should_report:function(a,c){if(c=="FORCE")return!0;return c=="INDIRECT"?!1:a&&(g.get_href(a)||a.getAttribute&&b("DataAttributeUtils").getDataFt(a))}};e.exports=g}),null);
__d("ClickRefLogger",["Arbiter","Banzai","ClickRefUtils","Cookie","Env","ScriptPath","SessionName","Vector","$","collectDataAttributes","ge","pageID"],(function(a,b,c,d,e,f){__p&&__p();var g={delay:0,retry:!0};function h(a){if(!b("ge")("content"))return[0,0,0,0];b("$")("content");a=b("Vector").getEventPosition(a);return[a.x,a.y,0,0]}function i(c,d,event,e){__p&&__p();var f="r",g=[0,0,0,0],i,j;if(event){i=event.type;i=="click"&&b("ge")("content")&&(g=h(event));var k=0;event.ctrlKey&&(k+=1);event.shiftKey&&(k+=2);event.altKey&&(k+=4);event.metaKey&&(k+=8);k&&(i+=k)}d&&(j=b("ClickRefUtils").get_href(d));k=b("collectDataAttributes")(event?event.target||event.srcElement:d,["ft","gt"]);Object.assign(k.ft,e.ft);Object.assign(k.gt,e.gt);typeof k.ft.ei==="string"&&delete k.ft.ei;e=[c._ue_ts,c._ue_count,j||"-",c._context,i||"-",b("ClickRefUtils").get_intern_ref(d),f,a.URI?a.URI.getRequestURI(!0,!0).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,k].concat(g).concat(b("pageID")).concat(b("ScriptPath").getScriptPath());return e}b("Arbiter").subscribe("ClickRefAction/new",function(a,c){if(b("ClickRefUtils").should_report(c.node,c.mode)){a=i(c.cfa,c.node,c.event,c.extra_data);b("Cookie").set("act",c.cfa.ue);c=[b("SessionName").getName(),Date.now(),"act"];b("Banzai").post("click_ref_logger",Array.prototype.concat(c,a),g)}});function c(a){__p&&__p();function c(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(1^a.charCodeAt(c));return b}function d(a,b,c,e){__p&&__p();var f=b[c];if(f&&a&&f in a)if(c+1<b.length)d(a[f],b,c+1,e);else{var g=a[f];b=function(){setTimeout(e.bind(null,arguments));return g.apply(this,arguments)};b.toString=g.toString.bind(g);Object.defineProperty(a,f,{configurable:!1,writable:!0,value:b})}}var e={},f={},g=!1;function h(a,b){if(f[a])return;f[a]=e[a]=1}a=a[c("jiri")];if(a){var i=[];c(a).split(",").map(function(a,f){__p&&__p();var j=a.substring(1).split(":"),k;switch(a.charAt(0)){case"1":i.push(function(a){window[j[0]]&&h(f,j[0])});break;case"2":k=new RegExp(j[0]);d(window,j,2,function(b){b=b[j[1]];typeof b==="string"&&k.test(b)&&h(f,a)});break;case"3":d(window,j,0,function(){for(var a=i.length;a--;)i[a]();a=Object.keys(e);a.length&&(e={},setTimeout(b("Banzai")[c("qnru")].bind(b("Banzai"),c("islg"),{m:""+a}),5e3))});break;case"4":g=!0;break}})}}try{c(b("Env"))}catch(a){}}),null);
__d("DimensionTracking",["Cookie","Event","debounce","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f){function a(){var a=b("getViewportDimensions")();b("Cookie").set("wd",a.width+"x"+a.height)}b("isInIframe")()||(setTimeout(a,100),b("Event").listen(window,"resize",b("debounce")(a,250)),b("Event").listen(window,"focus",a))}),null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g=30,h=100;function a(a,c,d,e,f){"use strict";this._element=a,this._tight=c,this._measureFrom=d,this._minHeight=e,this._margin=f,b("DataStore").set(this._element,"FlexibleScrollableArea",this),b("Run").onLeave(this.cleanup.bind(this)),this._listener=b("Event").listen(window,"resize",b("throttle")(this.poke,h,this)),this.poke()}a.prototype.poke=function(){"use strict";__p&&__p();var a=b("DOM").find(this._element,".uiScrollableAreaBody");a=b("Vector").getElementDimensions(a).y+b("DOMDimensions").measureElementBox(a,"height",!0,!0,!0);if(this._tight){var c=this.getMaxHeight();a<c+g&&(c+=g);a=Math.max(Math.min(a,c),this._minHeight)}else a=Math.max(this.getMaxHeight(),this._minHeight);b("Style").set(this._element,"height",a+"px")};a.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==="bottom"){var a=b("Vector").getViewportDimensions().y,c=b("Vector").getElementPosition(this._element,"viewport").y;a=a-c;return a-this._margin}c=b("Vector").getElementPosition(this._element,"viewport").y+b("Vector").getElementDimensions(this._element).y;return c-this._margin};a.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove()};a.getInstance=function(a){"use strict";a=b("Parent").byClass(a,"flexibleScrollableArea");return a?b("DataStore").get(a,"FlexibleScrollableArea"):null};e.exports=a}),null);
__d("HighContrastMode",["AccessibilityLogger","CSS","CurrentUser","DOM","Style","URI","emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g={init:function(a){__p&&__p();var c=new(b("URI"))(window.location.href);if(c.getPath().indexOf("/intern/")===0)return;if(window.top!==window.self)return;c=b("DOM").create("div");b("DOM").appendContent(document.body,c);c.style.cssText="border: 1px solid !important;border-color: red green !important;position: fixed;height: 5px;top: -999px;background-image: url("+a.spacerImage+") !important;";a=b("Style").get(c,"background-image");var d=b("Style").get(c,"border-top-color"),e=b("Style").get(c,"border-right-color");d=d==e&&a&&(a=="none"||a=="url(invalid-url:)");d&&(b("CSS").conditionClass(document.documentElement,"highContrast",d),b("CurrentUser").getID()&&b("AccessibilityLogger").logHCM());b("DOM").remove(c);g.init=b("emptyFunction")}};e.exports=g}),null);
__d("EgoUnitSlideInsert",["csx","cx","Animation","CSS","DataStore","DOM","Ease","Event","Parent","TidyArbiterMixin","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="sliding",j="EgoSlider/End",k=babelHelpers["extends"]({isSliding:function(a){return b("DataStore").get(a,i)},runAfterSlide:function(a,c){var d=b("tidyEvent")(k.subscribe(j,function(b,e){e===a&&(d&&d.unsubscribe(),c())}))},registerSlide:function(a,c){__p&&__p();b("Event").listen(a,"click",function(d){__p&&__p();d=b("Parent").bySelector(d.getTarget(),"._5cl_");if(!d)return;var e=b("Parent").byClass(a,"ego_unit");d=0;var f=b("Parent").byClass(e,"ego_unit_container"),g=b("DOM").scry(f,".ego_unit")[0];g===e&&(e.nextSibling&&(e.nextSibling.style.paddingTop="0px",e.nextSibling.style.borderTop="0px"));b("CSS").addClass(e,"_5cl-");b("DataStore").set(e,i,!0);new(b("Animation"))(e).to("height",0).to("padding-top",d).to("padding-bottom",0).to("margin",0).from("opacity",1).to("opacity",0).ease(b("Ease").circOut).duration(300).checkpoint(1,function(){b("DOM").appendContent(f,e),b("DOM").prependContent(e,c),b("DataStore").remove(e,i)}).to("height",12).to("opacity",1).to("margin-bottom",10).duration(0).checkpoint(2,function(){k.inform(j,e)}).go()})}},b("TidyArbiterMixin"));e.exports=k}),null);
__d("NetEgo",["csx","Animation","Arbiter","CSS","DOM","EgoUnitSlideInsert","PageLikeConstants","Parent","URI","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h={setup:function(a){__p&&__p();b("Arbiter").subscribe([b("PageLikeConstants").LIKED,"FriendRequest/sending"],function(c,d){__p&&__p();if(a==d.profile_id&&d.origin=="hovercard"||a==d.uid){c=b("ge")(document.body,".ego_unit_container");if(c){d=b("DOM").scry(c,".ego_unit");c=d.length;for(var e=0;e<c;e++){var f=d[e].getAttribute("data-ego-fbid");if(f==a){f=b("DOM").scry(d[e],".ego_action a")[0];f&&f.click();break}}}}})},updateXids:function(a,c){__p&&__p();if(a.length==0&&c.length==0)return;a=function(a){return function(c){c=c.getAttribute(a);if(!c)return!1;c=new(b("URI"))(c).getQueryData();return!!c.xids}};var d=b("DOM").scry(document.body,".ego_section a");d=d.filter(a("ajaxify"));if(d.length==0)return;var e=new(b("URI"))(d[0].getAttribute("ajaxify")),f=e.getQueryData();if(!f.xids)return;var g=null;try{g=JSON.parse(f.xids)}catch(a){return}for(var h=0;h<c.length;++h)g[c[h]]=1;var i=JSON.stringify(g);c=function(a,c){e=new(b("URI"))(a.getAttribute(c)),f=e.getQueryData(),f.xids=i,e.setQueryData(f),a.setAttribute(c,e.toString())};for(h=0;h<d.length;++h)c(d[h],"ajaxify");g=b("DOM").scry(document.body,".ego_unit form");g=g.filter(a("action"));for(h=0;h<g.length;++h)c(g[h],"action")},replaceUnit:function(a,b,c,d){h.replaceUnitCheckParent(a,b,c,d,"")},replaceUnitCheckParent:function(a,c,d,e,f){var g=b("Parent").byClass(a,"ego_unit_container");if(g&&b("EgoUnitSlideInsert").isSliding(a)){g=b("DOM").appendContent(g,c);g.forEach(b("CSS").hide);b("EgoUnitSlideInsert").runAfterSlide(a,h._replaceUnitElement.bind(null,a,g,f))}else h._replaceUnit(a,c,d,e,f)},_replaceUnit:function(a,c,d,e,f){var g=b("DOM").insertAfter(a,c);g.forEach(b("CSS").hide);e!==undefined&&e!==null?setTimeout(function(){h._replaceUnitFadeout(a,g,d,f)},e):h._replaceUnitFadeout(a,g,d,f)},_replaceUnitFadeout:function(a,c,d,e){d?new(b("Animation"))(a).from("opacity",1).to("opacity",0).duration(d).checkpoint(1,function(){h._replaceUnitElement(a,c,e)}).go():h._replaceUnitElement(a,c,e)},_replaceUnitElement:function(a,c,d){var e=b("CSS").hasClass(a,"ego_unit")?a.parentNode:null;e&&e.tagName==="LI"&&(e=b("DOM").scry(a.parentNode,"^ul")[0]);b("DOM").remove(a);c.length&&c.forEach(b("CSS").show);b("Arbiter").inform("netego_replacedUnit",{serializedData:d,numUnitsRemained:e.childNodes.length});h.clearHeader()},clearHeader:function(){__p&&__p();var a=b("DOM").scry(document.body,".ego_column"),c=[];for(var d=0;d<a.length;++d)c=c.concat(b("DOM").scry(a[d],".uiHeader"));for(d=0;d<c.length;++d){a=c[d].nextSibling;var e=b("DOM").find(a,"._2xq");e||(e=a);if(!e||e.childNodes.length===0)b("DOM").remove(c[d]);else if(e.childNodes.length===1){a=e.childNodes[0];b("CSS").hasClass(a,"ego_appended_units")&&a.childNodes.length===0&&b("DOM").remove(c[d])}}}};e.exports=h}),null);
__d("NetEgoLogger",["AsyncSignal"],(function(a,b,c,d,e,f){e.exports={log:function(a){var c=a.uri,d=a.sid,e=a.fbid;a=a.element;new(b("AsyncSignal"))(c,{sid:d,fbid:e,height:a.offsetHeight}).send()}}}),null);
__d("PageGeographicSubscriptionEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",CONVERSION:"conversion",EMPTY_RESULT:"empty_result"})}),null);
__d("XEgoExpandAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ego/expand/",{scroll_area_id:{type:"String"},service_id:{type:"String"},filter_ids:{type:"String",defaultValue:""},num_requested:{type:"Int"},pagination_offset:{type:"Int",defaultValue:0}})}),null);
__d("XPageGeographicSubscriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/geographic_subscription/logging/",{event:{type:"Enum",enumType:1},type:{type:"Enum",enumType:1},referrer:{type:"String"},surface:{type:"String"},platform:{type:"String"}})}),null);
__d("XPubcontentImpressionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/suggestions/impression_logging/",{})}),null);
__d("NetEgoShowcase",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","PageGeographicSubscriptionEvents","Parent","TidyArbiterMixin","XEgoExpandAsyncController","XPageGeographicSubscriptionController","XPubcontentImpressionLoggingController","mixin","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j={UPDATED:0,UPDATING:1};c=babelHelpers.inherits(a,b("mixin")(b("TidyArbiterMixin")));i=c&&c.prototype;function a(a,c){"use strict";i.constructor.call(this),this.$NetEgoShowcase1=a,this.$NetEgoShowcase2=[],this.$NetEgoShowcase3=c.serializedData,this.$NetEgoShowcase4=c.autoExpandLimit,this.$NetEgoShowcase5=c.serviceId,this.$NetEgoShowcase6=c.requestSize,this.$NetEgoShowcase7=j.UPDATED,this.$NetEgoShowcase8=0,this.$NetEgoShowcase9=c.geoSubItem,b("tidyEvent")(this.$NetEgoShowcase1.subscribe("items_updated",this.$NetEgoShowcase10.bind(this)),this.$NetEgoShowcase1.subscribe("page_end",this.$NetEgoShowcase11.bind(this)),b("Arbiter").subscribe("netego_replacedUnit",this.$NetEgoShowcase10.bind(this)),b("Event").listen(this.$NetEgoShowcase1.getNode(),"click",this.$NetEgoShowcase12.bind(this))),this.$NetEgoShowcase13(c.firstItemId)}a.prototype.$NetEgoShowcase14=function(){"use strict";__p&&__p();if(!this.$NetEgoShowcase4||this.$NetEgoShowcase7===j.UPDATING)return;this.$NetEgoShowcase7=j.UPDATING;var a=b("DOM").scry(this.$NetEgoShowcase1.getNode(),".ego_unit");if(a.length<this.$NetEgoShowcase4&&a.length-this.$NetEgoShowcase1.getIndex()<=3){a=this.$NetEgoShowcase4-a.length;this.$NetEgoShowcase15(a>this.$NetEgoShowcase6?a%this.$NetEgoShowcase6+this.$NetEgoShowcase6:a);return}this.$NetEgoShowcase16();this.$NetEgoShowcase7=j.UPDATED};a.prototype.$NetEgoShowcase15=function(a){"use strict";var c=Object.keys(this.$NetEgoShowcase3);c=b("XEgoExpandAsyncController").getURIBuilder().setString("service_id",this.$NetEgoShowcase5).setString("filter_ids",JSON.stringify(c)).setInt("num_requested",a).setInt("pagination_offset",this.$NetEgoShowcase8).getURI();new(b("AsyncRequest"))(c).setHandler(this.$NetEgoShowcase17.bind(this)).setErrorHandler(this.$NetEgoShowcase17.bind(this)).setRelativeTo(this.$NetEgoShowcase1.getNode()).send()};a.prototype.$NetEgoShowcase17=function(a){"use strict";__p&&__p();if(!a.getError()){var c=a.getPayload().suggestions;this.$NetEgoShowcase8+=c.length;for(var d=0;d<c.length;d++){var e=b("DOM").create("li",{className:"_2xr"},c[d]);this.$NetEgoShowcase1.push(e)}var f=a.getPayload().serializedData;f&&Object.keys(f).forEach(function(a){this.$NetEgoShowcase3[a]=f[a]},this)}this.$NetEgoShowcase7=j.UPDATED};a.prototype.$NetEgoShowcase12=function(event){"use strict";__p&&__p();var a=event.getTarget(),c=this.$NetEgoShowcase18(a,"ego_x");if(!c){c=this.$NetEgoShowcase18(a,"ego_like");if(!c){c=this.$NetEgoShowcase18(a,"ego_subscribe");if(!c)return;this.$NetEgoShowcase19()}}a=b("DOM").scry(c,"^.ego_unit");if(!a.length)return;c=this.$NetEgoShowcase1.getIndex();a=a[c]&&b("CSS").hasClass(a[c],"egoKeepUnitContainerForReplace");a||(this.$NetEgoShowcase1.remove(c),this.$NetEgoShowcase1.getNumItems()===0&&this.$NetEgoShowcase20())};a.prototype.$NetEgoShowcase18=function(a,c){"use strict";if(b("CSS").hasClass(a,c))return a;a=b("DOM").scry(a,"^."+c);return a.length?a[0]:null};a.prototype.$NetEgoShowcase10=function(a,c){"use strict";__p&&__p();a=b("DOM").scry(this.$NetEgoShowcase1.getNode(),"li._2xr");for(var d=0;d<a.length;d++)a[d].childNodes.length||this.$NetEgoShowcase1.remove(d);d=b("DOM").scry(this.$NetEgoShowcase1.getNode(),".ego_unit");if(!d.length){a=b("Parent").byClass(this.$NetEgoShowcase1.getNode(),"ego_section");a&&b("CSS").hide(a);return}if(!c||!c.serializedData)return;a=d[this.$NetEgoShowcase1.getIndex()].getAttribute("data-ego-fbid");d=JSON.parse(c.serializedData);for(var e in d)a===e&&(this.$NetEgoShowcase3[e]=d[e],this.$NetEgoShowcase13(e))};a.prototype.$NetEgoShowcase21=function(){"use strict";var a=b("XPageGeographicSubscriptionController").getURIBuilder(),c={event:b("PageGeographicSubscriptionEvents").IMPRESSION,surface:this.$NetEgoShowcase5,platform:"www"};new(b("AsyncRequest"))().setMethod("POST").setURI(a.getURI()).setData(c).send()};a.prototype.$NetEgoShowcase19=function(){"use strict";var a={event:"conversion",surface:this.$NetEgoShowcase5,platform:"www"},c=b("XPageGeographicSubscriptionController").getURIBuilder().setEnum("type","subscribe");new(b("AsyncRequest"))().setMethod("POST").setURI(c.getURI()).setData(a).send()};a.prototype.$NetEgoShowcase11=function(event){"use strict";var a=b("DOM").scry(this.$NetEgoShowcase1.getNode(),".ego_unit");a=a[this.$NetEgoShowcase1.getIndex()].getAttribute("data-ego-fbid");this.$NetEgoShowcase13(a);this.$NetEgoShowcase14()};a.prototype.$NetEgoShowcase22=function(){"use strict";var a=b("DOM").scry(this.$NetEgoShowcase1.getNode(),".ego_unit");a=a[this.$NetEgoShowcase1.getIndex()];a=b("DOM").scry(a,".subscribe_card_unit");return a.length?!0:!1};a.prototype.$NetEgoShowcase13=function(a){"use strict";__p&&__p();var c=this.$NetEgoShowcase22();c&&(a="subscribe_card");var d=this.$NetEgoShowcase2.indexOf(a)>-1;if(!d&&c)this.$NetEgoShowcase21(),this.$NetEgoShowcase2.push(a);else if(!d&&this.$NetEgoShowcase3[a]){this.$NetEgoShowcase2.push(a);c=b("XPubcontentImpressionLoggingController").getURIBuilder();new(b("AsyncRequest"))().setMethod("POST").setURI(c.getURI()).setData({q:this.$NetEgoShowcase3[a]}).send()}};a.prototype.$NetEgoShowcase20=function(){"use strict";var a=b("DOM").scry(this.$NetEgoShowcase1.getNode(),"^.ego_column");a.length&&b("DOM").remove(a[0])};a.prototype.$NetEgoShowcase16=function(){"use strict";this.$NetEgoShowcase9&&this.$NetEgoShowcase9[0]<this.$NetEgoShowcase1.getNumItems()&&(this.$NetEgoShowcase1.insert(this.$NetEgoShowcase9[0],this.$NetEgoShowcase9[1]),this.$NetEgoShowcase9[0]=Number.MAX_SAFE_INTEGER)};e.exports=a}),null);
__d("FeedConsumptionEvents",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirror")({PLACEHOLDER_HIDDEN:null,PLACEHOLDER_VISIBLE:null,REQUEST_CANCELLED:null,REQUEST_COMPLETE:null,REQUEST_ERROR:null,REQUEST_STARTED:null,STORY_DISPLAY:null}));e.exports=a}),null);
__d("FeedConsumptionController",["EventEmitter","FeedConsumptionEvents","IntersectionObserver","PageletEventConstsJS","PageletEventsHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$3=null,this.$4=null,this.$6=0,this.$2=a,this.$1=new(b("EventEmitter"))()}a.prototype.setPlaceholder=function(a){!this.$3?this.$3=new(b("IntersectionObserver"))(function(a){return this.$7(a)}.bind(this),{threshold:.1}):this.$5&&this.$3.unobserve(this.$5),this.$5=a,this.$3.observe(a)};a.prototype.start=function(){this.$6=0,this.$4||(this.$4=b("PageletEventsHelper").subscribeToPageletEvents(function(a,c){c===b("PageletEventConstsJS").DISPLAY_END&&a.startsWith("hyperfeed_story")&&this.$1.emit(b("FeedConsumptionEvents").STORY_DISPLAY,this.$6++)}.bind(this))),this.$1.emit(b("FeedConsumptionEvents").REQUEST_STARTED)};a.prototype.complete=function(){this.$1.emit(b("FeedConsumptionEvents").REQUEST_COMPLETE)};a.prototype.error=function(){this.$1.emit(b("FeedConsumptionEvents").REQUEST_ERROR)};a.prototype.cancel=function(){this.$1.emit(b("FeedConsumptionEvents").REQUEST_CANCELLED)};a.prototype.destroy=function(){this.$3&&this.$3.disconnect(),this.$3=null,this.$4&&this.$4.remove(),this.$4=null};a.prototype.addListener=function(a,b){return this.$1.addListener(a,b)};a.prototype.once=function(a,b){return this.$1.once(a,b)};a.prototype.$7=function(a){var c=this.$5,d=this.$3&&this.$3.thresholds,e=Array.isArray(d)&&d[0]||0;a.forEach(function(a){a.target===c&&this.$1.emit(a.intersectionRatio>e?b("FeedConsumptionEvents").PLACEHOLDER_VISIBLE:b("FeedConsumptionEvents").PLACEHOLDER_HIDDEN,this.$2())}.bind(this))};e.exports=a}),null);
__d("FeedConsumptionRestorationLogger",["FeedConsumptionEvents","FeedQuickLogModule","QuickPerformanceLogger","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$2=0,this.$1=a}a.prototype.destroy=function(){this.$3&&this.$3.release(),this.$4&&this.$4.remove()};a.prototype.$5=function(a){b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW,a),this.reset()};a.prototype.reset=function(){this.destroy(),this.$2=0,this.$4=this.$1.once(b("FeedConsumptionEvents").PLACEHOLDER_VISIBLE,function(a){b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW),b("QuickPerformanceLogger").annotateMarkerInt(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW,"STORY_POSITION",a),this.$3=new(b("SubscriptionsHandler"))(),this.$3.addSubscriptions(this.$1.once(b("FeedConsumptionEvents").STORY_DISPLAY,function(a){b("QuickPerformanceLogger").annotateMarkerInt(b("FeedQuickLogModule").CONSUMPTION_RESTORATION_WWW,"TAIL_LOAD_STORY_POSITION",a),this.$5("SUCCESS")}.bind(this)),this.$1.once(b("FeedConsumptionEvents").PLACEHOLDER_HIDDEN,function(){return this.$5("CANCEL")}.bind(this)),this.$1.once(b("FeedConsumptionEvents").REQUEST_CANCELLED,function(){return this.$5("CANCEL")}.bind(this)),this.$1.once(b("FeedConsumptionEvents").REQUEST_ERROR,function(){return this.$5("FAIL")}.bind(this)))}.bind(this))};e.exports=a}),null);
__d("NewsFeedDedupeStoryController",["CSS","DOMQuery","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();a={dedupe:function(a,c){__p&&__p();b("queryThenMutateDOM")(function(){var d={};return b("DOMQuery").scry(a,c).filter(function(a){var c=a.getAttribute("data-dedupekey");if(c&&b("CSS").shown(a)){if(d[c])return!0;d[c]=!0}return!1})},function(a){a.forEach(function(a){b("CSS").hide(a),a.removeAttribute("style")})},"NewsFeedDedupeStoryControllerDedupe")}};e.exports=a}),null);
__d("NewsFeedOffscreenController",["cx","Arbiter","CSS","DOMQuery","IntersectionObserver","LitestandShareAttachment","NavigationMessage","Run","Style","SubscriptionsHandler","debounce","getOrCreateDOMID","intersectionObserverEntryIsIntersecting","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=400;var h=10,i="_5qqr",j={},k=null,l={rootMargin:a+"px 0px "+a+"px 0px"},m=null,n={};function o(){for(var a in n)b("DOMQuery").scry(n[a],"div[data-fullscreen]").length?delete n[a]:j[a]=n[a].offsetHeight}function p(){var a;for(var c in n)a=j[c],a!==undefined&&a>0&&(b("Style").apply(n[c],{height:a+"px",marginBottom:h+"px"}),a=n[c].firstElementChild,a&&b("CSS").hide(a),delete j[c]),delete n[c]}var q=b("debounce")(function(){b("queryThenMutateDOM")(o,p,"NewsFeedOffscreenController")});function r(a){delete n[b("getOrCreateDOMID")(a)];b("Style").apply(a,{height:"",marginBottom:""});a=a.firstElementChild;if(a){b("CSS").show(a);a=b("DOMQuery").scry(a,"."+i);a.forEach(function(a){b("LitestandShareAttachment").init(a)})}}function s(a){var c=[];a.forEach(function(a){b("intersectionObserverEntryIsIntersecting")(a)?c.push(a.target):n[b("getOrCreateDOMID")(a.target)]=a.target});q();c.forEach(r)}function t(){k&&k.disconnect(),k=null,m&&m.release(),m=null}function u(){if(k)return k;k=new(b("IntersectionObserver"))(s,l);var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,t),b("Run").onLeave(t));return k}c={attachSubstream:function(a){u().observe(a)}};e.exports=c}),null);
__d("NewsFeedTailLoadController",["requireCond","cr:676978"],(function(a,b,c,d,e,f){"use strict";var g=b("cr:676978").v;e.exports={destroy:function(){g.destroy()},handleErrorV2:function(a){g.handleErrorV2(a)},init:function(a,b,c,d,e,f){g.init(a,b,c,d,e,f)},moreStoriesInserted:function(a){g.moreStoriesInserted(a)},setPagerConfig:function(a){g.setPagerConfig(a)},tailloadCompleted:function(a,b){g.tailloadCompleted(a,b)}}}),null);
__d("NewsFeedTailLoadPlaceholderLoggerStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUCCESS:"success",FAILED:"failed",CANCELLED:"cancelled"})}),null);
__d("TailLoadLogger",["invariant","Arbiter","BigPipe","FBLogger","IntersectionObserver","NewsFeedTailLoadPlaceholderLoggerStatus","PageEvents","SubscriptionsHandler","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,b,c){this.$2=0,this.$3=0,this.$4=a,this.$4.setTailLoadPosition(c),this.$1=c,this.$5=b}h.prototype.getTailLoadPosition=function(){return this.$1};h.prototype.visibleStart=function(a){this.$3=a;return this};h.prototype.visibleEnd=function(a){if(this.$3>0){var c=a-this.$3;c>0&&(this.$2+=c,c>1e6&&b("FBLogger")(this.$5).warn("Logging a placeholder visible duration of over 1M! Duration: %s Start time: %s, End time: %s",this.$2,this.$3,a),this.$3=0)}return this};h.prototype.setDisplayDone=function(a){this.$4.setDisplayDone(Math.round(a));return this};h.prototype.setTailLoadStatus=function(a){this.$4.setTailLoadStatus(a);return this};h.prototype.log=function(){this.$4.setVisibleDuration(Math.round(this.$2)).log()};function a(a,c,d){this.$1={},this.$5={},this.$7=a,this.$4=d,this.$3=new(b("IntersectionObserver"))(function(a){return this.$8(a)}.bind(this),{threshold:c}),this.$6=new(b("SubscriptionsHandler"))(),this.$6.addSubscriptions(b("Arbiter").subscribe(b("BigPipe").Events.init,function(a,b){return this.$9(b)}.bind(this)))}a.prototype.createLogger=function(){g(0,undefined)};a.prototype.getStoryCount=function(){g(0,undefined)};a.prototype.setQPLEndMarker=function(a){};a.prototype.setQPLMarkerPoint=function(){};a.prototype.setQPLStartMarker=function(){};a.prototype.destroy=function(){this.$3.disconnect(),this.$6.release()};a.prototype.tailLoadStarted=function(){this.$2||(this.$3.observe(this.$4),this.$2=new h(this.createLogger(),this.$7,this.getStoryCount()))};a.prototype.tailLoadSuccessful=function(a){this.setQPLEndMarker("SUCCESS");var c=this.$2;c&&(c.visibleEnd(b("performanceNow")()).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").SUCCESS),this.$1[a]=c,this.$10(a),this.$11())};a.prototype.tailLoadFailed=function(){this.setQPLEndMarker("FAIL");var a=this.$2;a&&(a.visibleEnd(b("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").FAILED).log(),this.$11())};a.prototype.tailLoadCancelled=function(){this.setQPLEndMarker("CANCEL");var a=this.$2;a&&(a.visibleEnd(b("performanceNow")()).setDisplayDone(-1).setTailLoadStatus(b("NewsFeedTailLoadPlaceholderLoggerStatus").CANCELLED).log(),this.$11())};a.prototype.$11=function(){this.$3.unobserve(this.$4),this.$2=null};a.prototype.$8=function(a){var b=this.$2;if(!b)return;var c=this.$3.thresholds,d=Array.isArray(c)&&c[0]||0;a.forEach(function(a){a.target===this.$4&&(a.intersectionRatio>d?b.visibleStart(a.time):(this.setQPLMarkerPoint(),b.visibleEnd(a.time)))}.bind(this))};a.prototype.$9=function(a){var c=a.arbiter;a=a.lid;var d={requestStart:0};this.$5[a]=d;c.subscribe(b("PageEvents").AJAXPIPE_SEND,function(a,b){a=b.ts;return d.requestStart=a});c.subscribe(b("BigPipe").Events.displayed,function(a,b){return this.$12(b)}.bind(this))};a.prototype.$12=function(a){var c=a.lid;a=a.ts;var d=this.$5[c];if(!d)return;var e=a-d.requestStart;e<=0&&b("FBLogger")(this.$7).warn("Tail load display done is invalid! Start: %s, Display Done: %s",d.requestStart,a);d.displayDone=e;this.$10(c)};a.prototype.$10=function(a){var b=this.$5[a],c=this.$1[a];b&&c&&b.displayDone!=null&&(b.displayDone>0&&c.setDisplayDone(b.displayDone).log(),delete this.$1[a],delete this.$5[a])};e.exports=a}),null);
__d("NewsFeedTailLoadPlaceholderLogger",["DOM","LitestandStream","NewsFeedTailloadPlaceholderTypedLogger","TailLoadLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("TailLoadLogger"));g=c&&c.prototype;function a(a,b){g.constructor.call(this,"feed",a,b)}a.prototype.createLogger=function(){return new(b("NewsFeedTailloadPlaceholderTypedLogger"))()};a.prototype.getStoryCount=function(){return b("DOM").scry(b("LitestandStream").getStreamRoot(),b("LitestandStream").getStoriesSelector()).length};e.exports=a}),null);
__d("NewsFeedTailLoadControllerLegacy",["Arbiter","Bootloader","CSS","DOM","Event","FeedConsumptionController","FeedConsumptionRestorationLogger","FunnelLogger","LitestandMessages","LitestandStream","LitestandStreamTailStoryPlaceholderVisibilityTracker","MainThreadPerformanceLoggerActions","MainThreadPerformanceMonitor","NavigationMessage","NewsFeedDedupeStoryController","NewsFeedOffscreenController","NewsFeedTailLoadPlaceholderLogger","Run","SubscriptionsHandler","ge","getOrCreateDOMID","gkx","intersectionObserverEntryIsIntersecting","observeIntersection"],(function(a,b,c,d,e,f){__p&&__p();var g=3e4,h={"streamload.tail.commence":!0,"streamload.tail.success":!0,"streamload_error.tail":!0,"streamload_error.tail.transport":!0,"streamload_error.tail.final":!0,"streamload.tail.retry":!0,"streamload_error.tail.retry":!0,"streamload.tail.retry.success":!0,"streamload_timeout.tail":!0},i,j,k={},l=null,m="WWW_NEWSFEED_TAILLOAD_FUNNEL";a=b("gkx")("AT7KK82E6JxaPx6oN4q-Vm9lp3uNcTVJR1JkFm9kz7Exm8LU2NQ95JrEznfGXvNo3sy8c5nRChJELHsdh7syPA88o6lc41pGHRPG_OgO5q8hBw");var n=2,o=null,p=null,q,r=null,s,t=null,u=null,v=0,w=0,x=null,y=new(b("FeedConsumptionController"))(function(){return b("DOM").scry(b("LitestandStream").getStreamRoot(),b("LitestandStream").getStoriesSelector()).length});a&&(l=new(b("FeedConsumptionRestorationLogger"))(y));var z=function(a){a.forEach(function(a){h[a]&&b("FunnelLogger").appendActionWithTag(m,w,a,"try_"+v)}),b("Bootloader").loadModules(["BanzaiODS"],function(b){a.forEach(function(a){b.bumpEntityKey("feed_load",a)})},"NewsFeedTailLoadControllerLegacy")},A=function(a,c){b("Arbiter").inform(b("LitestandMessages").STREAM_LOAD_ERROR,c);c=["streamload_error.tail"];v>0&&c.push("streamload_error.tail.retry");a&&v<n?(v++,D(a),c.push("streamload.tail.retry"),b("Arbiter").inform(b("LitestandMessages").STREAM_LOAD_RETRY)):(u&&b("CSS").removeClass(u,"async_saving"),p&&p.tailLoadFailed(),y.error(),b("MainThreadPerformanceMonitor").stop(b("MainThreadPerformanceLoggerActions").TAIL_LOAD));z(c)},B=function(){C(),q=setTimeout(function(){z(["streamload_timeout.tail"])},g)},C=function(){q&&clearTimeout(q)},D=function(a){__p&&__p();v<1&&(b("FunnelLogger").startFunnel(m,w),b("FunnelLogger").addFunnelTag(m,w,"NewsFeedTailLoadController"));z(["streamload.tail.commence"]);k[a]&&(z(["duplicate_cursor"]),b("Arbiter").inform(b("LitestandMessages").DUPLICATE_CURSOR_ERROR,a));k[a]=!0;var c={client_stories_count:b("DOM").scry(b("LitestandStream").getStreamRoot(),b("LitestandStream").getStoriesSelector()).length,cursor:a,pager_config:s,scroll_count:w+1,story_id:b("LitestandStream").getStoryID()},d=function(b){A(a,b)},e=function(b){z(["streamload_error.tail.transport"]),A(a,b)},f=function(a){a.error?z(["streamload_error.tail.final"]):(z(["streamload.tail.success"]),w++)};!r?b("Bootloader").loadModules(["UIPagelet"],function(a){r=a.loadFromEndpoint("LitestandTailLoadPagelet",b("getOrCreateDOMID")(i),c,{append:!0,automatic:!0,constHeight:!0,crossPage:!0,errorHandler:d,finallyHandler:f,transportErrorHandler:e,usePipe:!0}),b("Arbiter").inform(b("LitestandMessages").STORIES_REQUESTED)},"NewsFeedTailLoadControllerLegacy"):(r.setErrorHandler(d).setTransportErrorHandler(e).go(c),b("Arbiter").inform(b("LitestandMessages").STORIES_REQUESTED))};function E(){x&&x.release(),x=null,p&&p.tailLoadCancelled(),p&&p.destroy(),p=null,y.cancel(),y.destroy(),l&&l.destroy(),k={},r=null,w=0,C()}function F(){u&&b("CSS").addClass(u,"async_saving"),D(j),y.start(),p&&p.tailLoadStarted(),b("MainThreadPerformanceMonitor").start(b("MainThreadPerformanceLoggerActions").TAIL_LOAD)}function G(event){F(),event.preventDefault()}function H(a){o&&o.remove();o=b("observeIntersection")(a,function(a){a=b("intersectionObserverEntryIsIntersecting")(a);a&&(F(),o&&(o.remove(),o=null))},{rootMargin:"0px 0px "+((a=(a=t)==null?void 0:a.bufferPixels)!=null?a:0)+"px 0px"});return o}c={init:function(a,c,d,e,f,g){i=d,j=a,u=c,s=e,t=f,x=new(b("SubscriptionsHandler"))(),b("LitestandStreamTailStoryPlaceholderVisibilityTracker").setPlaceholderElement(u),x.addSubscriptions(H(u),b("Arbiter").subscribe(b("LitestandMessages").STORIES_REQUESTED,B),b("Arbiter").subscribe([b("LitestandMessages").STORIES_INSERTED,b("LitestandMessages").STREAM_LOAD_ERROR],C),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,E),b("Event").listen(u,"click",G),b("Run").onLeave(E),b("Run").onUnload(function(){return p&&p.tailLoadCancelled()})),y.setPlaceholder(u),l&&l.reset(),g!=null&&(p=new(b("NewsFeedTailLoadPlaceholderLogger"))(g,u))},destroy:function(){E(),u&&b("CSS").hide(u)},tailloadCompleted:function(a,c){var d=b("LitestandStream").getStreamRoot();d&&b("NewsFeedDedupeStoryController").dedupe(d,b("LitestandStream").getStoriesSelector());u&&b("CSS").removeClass(u,"async_saving");j=a;u&&H(u);v=0;p&&p.tailLoadSuccessful(c);y.complete();b("MainThreadPerformanceMonitor").stop(b("MainThreadPerformanceLoggerActions").TAIL_LOAD)},setPagerConfig:function(a){s=a},moreStoriesInserted:function(a){b("Arbiter").inform(b("LitestandMessages").STORIES_INSERTED,{substream_id:a});a=b("ge")(a);a&&(b("NewsFeedOffscreenController").attachSubstream(a),v>0&&(v=0,z(["streamload.tail.retry.success"])))},handleErrorV2:function(a){A(a)}};e.exports=c}),null);
__d("PubcontentSuggestionsUtil",["csx","DOM","DOMDimensions","LitestandEllipsis","Parent","Style"],(function(a,b,c,d,e,f,g){__p&&__p();var h={truncateName:function(a,c){var d=b("DOM").scry(a,".nameText")[0];if(d){c=(b("Style").getFloat(a,"lineHeight")+b("Style").getFloat(a,"marginBottom"))*c;if(isNaN(c))return;b("LitestandEllipsis").add(d,c,a);d=b("DOM").scry(a.parentNode,".socialContext")[0];d&&(c-=b("DOMDimensions").getElementDimensions(a).height,b("LitestandEllipsis").add(d,c,d))}},truncateText:function(a,c){if(a){c=b("Style").getFloat(a,"lineHeight")*c;b("LitestandEllipsis").add(a,c,a)}},truncateAllText:function(a,c){var d,e=b("DOM").scry(a,".ego_title");for(d=0;d<e.length;d++)h.truncateName(e[d],2);e=b("DOM").scry(a,".descriptionText");for(d=0;d<e.length;d++)h.truncateText(e[d],2);e=b("DOM").scry(a,".ego_like");for(d=0;d<e.length;d++)h.cutLikeButtonText(e[d],c)},cutButtonText:function(a){var c=b("Parent").bySelector(a,"._5ry0");if(c&&b("DOMDimensions").getElementDimensions(a).width>b("DOMDimensions").getElementDimensions(c).width){c=b("DOM").scry(a,"input")[0];c.value=""}},cutLikeButtonText:function(a,c){__p&&__p();c=c?b("Parent").byClass(a,"ego_unit"):b("Parent").byClass(a,"likeButton");if(c&&b("DOMDimensions").getElementDimensions(a).width>b("DOMDimensions").getElementDimensions(c).width){c=b("DOM").scry(a,"img");if(c.length){var d=c[0].nextSibling.textContent;c[0].parentNode.setAttribute("aria-label",d);c[0].parentNode.removeChild(c[0].nextSibling)}else{c=b("DOM").scry(a,"i");if(c.length){d=c[0].nextSibling.textContent;c[0].parentNode.setAttribute("aria-label",d);c[0].parentNode.removeChild(c[0].nextSibling)}}}}};e.exports=h}),null);
__d("ReminderStory",["Arbiter","AsyncRequest","Bootloader","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","getActiveElement"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e,f,g){"use strict";__p&&__p();this.$1=!1,this.$2=c,this.$3=a,b("Event").listen(a,"click",function(event){if(d&&b("DOMQuery").contains(d,event.target))return;c.show();e&&new(b("AsyncRequest"))("/growth/reminder/logging.php").setData({context_data:e,first_click:!this.$1}).send();this.$1=!0}.bind(this)),f&&c.subscribeOnce("show",function(){b("Bootloader").loadModules(["UIPagelet"],function(a){return a.loadFromEndpoint(f,c.getContent(),g)},"ReminderStory")}),c.disableBehavior(b("LayerAutoFocus")),c.subscribe("aftershow",function(){__p&&__p();var a=c.getRoot(),d=c.hide.bind(c);this.$4=new(b("SubscriptionsHandler"))();this.$4.addSubscriptions(b("Event").listen(window,"resize",d),b("Event").listen(window,"scroll",d));var e=b("DOMQuery").scry(a,".inlineReplyTextArea");e[0]&&e[0].focus();var f=b("DOMQuery").scry(a,".jewelItemNew"),g=[];f.forEach(function(a){a=f[a].getAttribute("id");a&&a.endsWith("_1_req")&&(g=g.concat(a.replace("_1_req","")))});g.length>0&&new(b("AsyncRequest"))("/friends/requests/log_impressions").setData({ids:g.join(","),ref:"reminder_box"}).send();var h=b("ScrollableArea").getInstance(b("DOMQuery").scry(c.getRoot(),".uiScrollableArea")[0]),i=b("FlexibleScrollableArea").getInstance(b("DOMQuery").scry(c.getRoot(),".flexibleScrollableArea")[0]),j=function(){i&&i.poke(),h&&(h.poke(),b("Event").fire(b("DOMQuery").scry(c.getRoot(),".scrollable")[0],"scroll"))};j();b("Arbiter").subscribe("reflow",function(){var c=b("DOMQuery").scry(a,".fbRemindersBirthdayList");if(e&&c)for(var d=0;d<e.length;++d)e[d]==b("getActiveElement")()&&b("DOMQuery").contains(c[0],e[d])&&j()})}.bind(this)),c.subscribe("beforehide",function(){this.$4&&(this.$4.release(),this.$4=null)}.bind(this))}a.prototype.getDialog=function(){"use strict";return this.$2};a.prototype.getRoot=function(){"use strict";return this.$3};e.exports=a}),null);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g){__p&&__p();f.start=function(a){__p&&__p();if(a.off||top!==window||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;var b=a.stop||g._("Stop!"),c=a.text||g._("This is a browser feature intended for developers. If someone told you to copy and paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account."),d=a.more||g._("See {url} for more information.",[g._param("url","https://www.facebook.com/selfxss")]);if((window.chrome||window.safari)&&!a.textonly){var e="font-family:helvetica; font-size:20px; ";[[b,a.c1||e+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[c,a.c2||e],[d,a.c3||e],["",""]].map(function(a){setTimeout(console.log.bind(console,"\n%c"+a[0],a[1]))})}else{b=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"];a=(""+c).match(/.{35}.+?\s+|.+$/g);e=Math.floor(Math.max(0,(b.length-a.length)/2));for(var c=0;c<b.length||c<a.length;c++){var f=b[c];b[c]=f+new Array(45-f.length).join(" ")+(a[c-e]||"")}console.log("\n\n\n"+b.join("\n")+"\n\n"+d+"\n");return}}}),null);
__d("Slideshow",["csx","cx","ArbiterMixin","CSS","DOM","Event","Parent","getActiveElement","mixin","shield"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));i=c&&c.prototype;function a(a,c){"use strict";__p&&__p();i.constructor.call(this),this._setCurrent=function(a){__p&&__p();var c=this._items[this._currentIndex];c&&b("CSS").removeClass(c,"_2xn");b("CSS").addClass(this._items[a],"_2xn");b("CSS").removeClass(this._root,"_2xm");c=c&&b("DOM").scry(c,"a").some(function(a){return a==b("getActiveElement")()});if(c){c=b("DOM").scry(this._items[a],"a");c[0]&&c[0].focus()}this._currentIndex=a;this._animating=!1;this.inform("page_end",a)}.bind(this),this.informAndResetAutoPlay=function(){this.resetAutoplay(),this._config.autoplay&&this.inform("reset_autoplay")}.bind(this),this.informAndStopAutoplay=function(){this.stopAutoplay(),this.inform("stop_autoplay")}.bind(this),this._root=a,this._config=c,this._currentIndex=0,this._animating=!1,this._autoplayTimer=null,this._autoplayTimeout=c.autoplayTimeout,this._init()}a.prototype.getNode=function(){"use strict";return this._root};a.prototype.getIndex=function(){"use strict";return this._currentIndex};a.prototype.getNumItems=function(){"use strict";return this._items.length};a.prototype.getNextArrow=function(){"use strict";return this._config.arrows?b("DOM").find(this._root,"a._2xw"):null};a.prototype.getPrevArrow=function(){"use strict";return this._config.arrows?b("DOM").find(this._root,"a._2xx"):null};a.prototype.page=function(a){"use strict";__p&&__p();a||(a="next");if(a==="next")(this._config.wrap||this.getIndex()<this.getNumItems()-1)&&this._animateTo((this.getIndex()+1)%this.getNumItems(),this.getIndex());else if(a==="prev"){if(this._config.wrap||this.getIndex()>0){a=(this.getNumItems()+this.getIndex()-1)%this.getNumItems();this._animateTo(a,this.getIndex())}}};a.prototype.pageTo=function(a){"use strict";this._animateTo(a,this.getIndex(),b("shield")(this._setCurrent,this,a))};a.prototype.insert=function(a,c){"use strict";a>this._currentIndex?b("DOM").insertAfter(this._items[a-1],c):(b("DOM").insertBefore(this._items[a],c),this._currentIndex++),this._items.splice(a,0,c),this._updateArrowState(),this.inform("items_updated")};a.prototype.push=function(a){"use strict";this.insert(this._items.length,a)};a.prototype.remove=function(a){"use strict";__p&&__p();if(a<0||a>=this._items.length)return;b("DOM").remove(this._items[a]);this._items=b("DOM").scry(this._container,"li._2xr");if(a===this._currentIndex&&this._items.length){a=a%this._items.length;this._conditionFade(this._items[a],!0,null);this._setCurrent(a)}this.inform("items_updated")};a.prototype._init=function(){"use strict";this._container=b("DOM").find(this._root,"ul._2xq"),this._items=b("DOM").scry(this._container,"li._2xr"),this._config.arrows&&(b("Event").listen(this._root,"click",this._clickListener.bind(this)),this._arrowNext=b("DOM").find(this._root,"a._2xw"),this._arrowPrev=b("DOM").find(this._root,"a._2xx")),this._config.autoplay&&(this._config.autoplaycontrol&&(b("Event").listen(this._root,"mouseenter",this.informAndStopAutoplay),b("Event").listen(this._root,"mouseleave",this.informAndResetAutoPlay)),this.resetAutoplay()),this.subscribe(["page_start","page_end"],function(a,c){b("CSS").conditionClass(this._root,"_2xm",a==="page_start")}.bind(this))};a.prototype._clickListener=function(event){"use strict";var a=event.getTarget();a=b("Parent").byTag(a,"a");a&&!b("CSS").matchesSelector(a,"._2xo")&&(b("CSS").matchesSelector(a,"._2xw")?(this.page("next"),event.preventDefault()):b("CSS").matchesSelector(a,"._2xx")&&(this.page("prev"),event.preventDefault()))};a.prototype._updateArrowState=function(){"use strict";if(!this._config.arrows)return;b("CSS").conditionClass(this._arrowNext,"_2xo",this._items.length===1);b("CSS").conditionClass(this._arrowPrev,"_2xo",this._items.length===1)};a.prototype._animateTo=function(a,b){b===void 0};a.prototype.startAutoplay=function(a){"use strict";this._config.autoplay=!0,this._autoplayTimeout=a,this.resetAutoplay()};a.prototype.resetAutoplay=function(){"use strict";this._config.autoplay&&(clearTimeout(this._autoplayTimer),this._autoplayTimer=setTimeout(this._autoplay.bind(this),this._autoplayTimeout))};a.prototype.stopAutoplay=function(){"use strict";clearTimeout(this._autoplayTimer),this._autoplayTimer=null};a.prototype._autoplay=function(){"use strict";this.resetAutoplay(),this._items.length>1&&this.page()};a.prototype.setAutoplayTimeout=function(a){"use strict";this._autoplayTimeout=a};e.exports=a}),null);
__d("Showcase",["Animation","Barrier","Ease","Slideshow","Style","shield"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("Ease").sineInOut;g=babelHelpers.inherits(a,b("Slideshow"));g&&g.prototype;a.prototype._animateTo=function(a){"use strict";__p&&__p();if(this._animating)return;var c=this._items.length;a=(a+c)%c;if(a==this._currentIndex)return;c=new(b("Barrier"))(2,b("shield")(this._setCurrent,this,a));c=c.notify.bind(c);this._animating=!0;this.inform("page_start",a);this._conditionFade(this._items[this._currentIndex],!1,c);this._conditionFade(this._items[a],!0,c)};a.prototype._conditionFade=function(a,c,d){"use strict";b("Style").set(a,"visibility","visible"),new(b("Animation"))(a).from("opacity",c?0:1).to("opacity",c?1:0).duration(this._config.animationDuration).ease(h).ondone(function(){c||b("Style").set(a,"visibility","hidden"),d()}).go()};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("VideoCTAEndscreen",["cx","Arbiter","AttachmentRelatedShareConstants","CSS","Event","Focus","SubscriptionsHandler","VideoCTALoggingConfig","VideoPlayerLoggerEvent","VideoPlayerReason","logVideosClickTracking"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c){"use strict";__p&&__p();this.$1=a;this.$2=c.endscreenElement;this.$3=c.replayElement;this.$4=c.ctaElement;this.$5=c.isPausescreen;this.$6=new(b("SubscriptionsHandler"))();this.$6.addSubscriptions(b("Event").listen(this.$3,"click",function(){return this.$7()}.bind(this)),a.addListener("beginPlayback",function(){return this.$8()}.bind(this)),a.addListener("VideoChannelController/exitChannel",function(){a.isState("finished")&&this.$9()}.bind(this)));c=c.isPausescreen?"VideoCTAPausescreen":"VideoCTAEndscreen";this.$4&&(this.$6.addSubscriptions(b("Event").listen(this.$4,"click",function(){return this.$10()}.bind(this))),a.registerOption(c,"ctaElement",function(){return this.$4}.bind(this)));this.$5?this.$6.addSubscriptions(a.addListener("pausePlayback",function(){return this.$11()}.bind(this))):this.$6.addSubscriptions(a.addListener("finishPlayback",function(){return this.$9()}.bind(this)));a.registerOption(c,"available",function(){return!0})}a.prototype.$7=function(){"use strict";var a={reason:b("VideoPlayerReason").USER};this.$1.clickVideo();this.$1.isState("paused")?b("VideoCTALoggingConfig").shouldLogUnpausedEvent&&this.$1.logEvent(b("VideoPlayerLoggerEvent").UNPAUSED,a):this.$1.isState("finished")&&(this.$1.setState("replayed"),this.$1.collectFeedTrackingData(),this.$1.logEvent(b("VideoPlayerLoggerEvent").REPLAYED,a));a=this.$1.getVideoNode();b("logVideosClickTracking")(a);b("Focus").set(a)};a.prototype.$10=function(){"use strict";b("Arbiter").inform(b("AttachmentRelatedShareConstants").FBVIDEO_CLICK,{attachment:this.$1.getRootNode(),fbvideo_id:this.$1.getVideoID()})};a.prototype.$9=function(){"use strict";this.$1.getIsInChannel()||this.$11()};a.prototype.$11=function(){"use strict";b("CSS").addClass(this.$2,"_1qbf")};a.prototype.$8=function(){"use strict";b("CSS").removeClass(this.$2,"_1qbf")};e.exports=a}),null);
__d("ArtilleryRequestDataCollection",["Arbiter","ArtilleryRequestDataCollector","BigPipe","PageEvents","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=12e4,h={},i={},j=!1;function k(a){delete h[a],clearTimeout(i[a]),delete i[a]}a={init:function(){if(j)return;b("Arbiter").subscribe(b("BigPipe").Events.init,function(a,c){a=c.arbiter;a.subscribeOnce(b("PageEvents").AJAXPIPE_FIRST_RESPONSE,function(a,b){a=b.lid;b=b.quickling;b||this.start(a)}.bind(this),"new")}.bind(this));j=!0},start:function(a){if(h[a])return;var c=new(b("ArtilleryRequestDataCollector"))().start();h[a]=c;i[a]=b("setTimeoutAcrossTransitions")(function(){this.disable(a)}.bind(this),g)},finish:function(a){var b=h[a];if(b){b=b.finish();k(a);return b}return{sampleRecorder:null,profilingCountersData:[],userTimingProfilerData:null,timeSliceData:[]}},getCollector:function(a){return h[a]},disable:function(a){var b=h[a];b&&(b.disable(),k(a))}};e.exports=a}),null);
__d("GHLDebug",["emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g=[];a=b("gkx")("AT6jG-GSz_gaUVDoLFRU946R_EE4Y9HnShFpToAFR1lK0WPDOcoYtoIzpKJev6R3FBwZ1BZb_kUSmPmwKRaDQJ9e")?function(a,b,c,d,e){g.push([a.toString(),b,c,d,e.toString()])}:b("emptyFunction");c=b("gkx")("AT6jG-GSz_gaUVDoLFRU946R_EE4Y9HnShFpToAFR1lK0WPDOcoYtoIzpKJev6R3FBwZ1BZb_kUSmPmwKRaDQJ9e")?function(){return g}:b("emptyFunction");e.exports={hoot:a,murmur:c}}),null);
__d("GHLSurvey",["AdblockerDetectionRetryConfig","AdDelayedHiddenCheckConfiguration","Banzai","DateTime","ErrorUtils","FBLogger","GHLDebug","GHLTestElement","Run","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="swank",h=0,i=4,j=6,k=8,l=9,m=10,n=11;a={check:function(a,c,d){var e=function(){p(a,c,d,0,0)};b("Run").onAfterLoad(o(e,"initial"))}};var o=function(a,c){return function(){b("ErrorUtils").applyWithGuard(a,null,null,null,"GHL:guard:"+c)}},p=function a(c,d,e,f,h){__p&&__p();h=Array.from(c.querySelectorAll("img"));if(h.length===0&&d.startsWith("7.")){var i=f+1;if(i<5){f=function(){a(c,d,e,i,0)};setTimeout(o(f,"pagelet-check"),2500)}else b("Banzai").post("xtrackable:"+g,{token:d,event_code:e?l:m});return}if(h.length===0){f=d.startsWith("2.");f||b("FBLogger")("GHL").warn("Expected to find images. (Token: %s)",d);return}q(c,d,e,0,!1)},q=function(a,c,d,e,f){__p&&__p();var l=!1;!f&&d&&b("gkx")("AT4Ww_sJlWAOKtBvOvHgkh6Mk-KRppEb5Tyz5HOO5rdUTmq8qddDOA3lwvMEYK7MLB8nJFkBIlg8szgk52o43zVWdZvA-nYa4bMhVAy8IeQreg")&&(l=b("GHLTestElement").testElementD(a),l&&(b("Banzai").post("xtrackable:"+g,{token:c,event_code:n,hidden_delay:e*t(d)}),b("GHLDebug").hoot(n,b("DateTime").localNow(),c,a.id,e*t(d))));var m=b("GHLTestElement").testElementI(a);if(!m){r(a,c,d,e,f||l);return}d&&u();if(e>0){m=d?i:k;b("Banzai").post("xtrackable:"+g,{token:c,event_code:m,hidden_delay:e*t(d)});b("GHLDebug").hoot(m,b("DateTime").localNow(),c,a.id,e*t(d));return}f=d?h:j;b("Banzai").post("xtrackable:"+g,{token:c,event_code:f});b("GHLDebug").hoot(f,b("DateTime").localNow(),c,a.id,0)},r=function(a,b,c,d,e){var f=d+1;if(f>=s(c))return;d=function(){q(a,b,c,f,e)};var g=t(c);setTimeout(o(d,"hidden-check"),g)},s=function(a){return a?b("AdblockerDetectionRetryConfig").retry_count:b("AdblockerDetectionRetryConfig").organic_retry_count},t=function(a){return a?b("AdblockerDetectionRetryConfig").retry_interval:b("AdblockerDetectionRetryConfig").organic_retry_interval},u=function(){return b("AdDelayedHiddenCheckConfiguration").setEnabled(!0)};e.exports=a}),null);
__d("ErrorLogging",["ErrorSignal","ErrorUtils","JSErrorExtra","JSErrorLoggingConfig","JSErrorPlatformColumns","performanceNow","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=a.extra||{},d={};Object.keys(b("JSErrorExtra")).forEach(function(a){b("JSErrorExtra")[a]&&(d[a]=!0)});Object.keys(c).forEach(function(a){c[a]?d[a]=!0:d[a]&&delete d[a]});a.extra=Object.keys(d)}function h(a){b("JSErrorPlatformColumns").app_id!==undefined&&(a.app_id=b("JSErrorPlatformColumns").app_id),b("JSErrorPlatformColumns").access_token!==undefined&&(a.access_token=b("JSErrorPlatformColumns").access_token)}function i(a){g(a);h(a);var c=a.category||"onerror";b("ErrorSignal").logJSError(c,{error:a.name||a.message,extra:a})}function a(){__p&&__p();var a=b("performanceNow")();for(var c=k,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];f<a&&k["delete"](g)}}var j=b("JSErrorLoggingConfig").reportInterval,k=new Map(),l=b("throttle")(a,500,null);function c(a){if(a.message&&a.message.toLowerCase().startsWith("script error"))return;var c=a.name+a.message+a.type,d=k.get(c),e=b("performanceNow")();(d==null||d+j<e)&&(k.set(c,e),l(),i(a))}b("ErrorUtils").addListener(c);e.exports={defaultJSErrorHandler:c}}),null);